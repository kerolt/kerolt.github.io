<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Posts | Kerolt's Blog</title><meta name=keywords content><meta name=description content="Posts - Kerolt's Blog"><meta name=author content="Kerolt"><link rel=canonical href=https://kerolt.github.io/posts/><meta name=google-site-verification content="NpIO0KEIJS0CPRzTzQCbYQdSRIyb0Lspx"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="2300A23B82DB579A2DEA6261191AD771"><link crossorigin=anonymous href=/assets/css/stylesheet.3718db6239f5ea38d922de918992363f38eaa34001199db68f4080db5c913b1d.css integrity="sha256-NxjbYjn16jjZIt6RiZI2Pzjqo0ABGZ22j0CA21yROx0=" rel="preload stylesheet" as=style><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/cn-fontsource-source-han-serif-sc-vf@1.0.9/font.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/lxgw-wenkai-screen-web/style.css><link rel=icon href=https://kerolt.github.io/images/avatar/favicon.png><link rel=icon type=image/png sizes=16x16 href=https://kerolt.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://kerolt.github.io/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://kerolt.github.io/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://kerolt.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://kerolt.github.io/posts/index.xml><link rel=alternate hreflang=en href=https://kerolt.github.io/posts/><script src=https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js></script><link rel=stylesheet href=https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css><script src=https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js></script><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://kerolt.github.io/posts/"><meta property="og:site_name" content="Kerolt's Blog"><meta property="og:title" content="Posts"><meta property="og:description" content="ExampleSite description"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:image" content="https://kerolt.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://kerolt.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Posts"><meta name=twitter:description content="ExampleSite description"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://kerolt.github.io/posts/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://kerolt.github.io/ accesskey=h title="Kerolt's Blog (Alt + H)">Kerolt's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://kerolt.github.io/posts/ title=æ–‡ç« ><span class=active>æ–‡ç« </span></a></li><li><a href=https://kerolt.github.io/categories/ title=åˆ†ç±»><span>åˆ†ç±»</span></a></li><li><a href=https://kerolt.github.io/tags/ title=æ ‡ç­¾><span>æ ‡ç­¾</span></a></li><li><a href=https://kerolt.github.io/archives/ title=å½’æ¡£><span>å½’æ¡£</span></a></li><li><a href=https://kerolt.github.io/about/ title=å…³äºæˆ‘><span>å…³äºæˆ‘</span></a></li><li><a href=https://kerolt.github.io/search/ title="ğŸ” (Alt + /)" accesskey=/><span>ğŸ”</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://kerolt.github.io/>Home</a></div><h1>Posts
<a href=/posts/index.xml title=RSS aria-label=RSS><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" height="23"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></h1></header><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>åˆ©ç”¨eBPFä¸perf_eventè®°å½•ç³»ç»Ÿè°ƒç”¨æ ˆ</h2></header><div class=entry-content><p>perf_event_open perf åŸç†å›¾ï¼šhttps://plantegg.github.io/2021/05/16/Perf_IPC%E4%BB%A5%E5%8F%8ACPU%E5%88%A9%E7%94%A8%E7%8E%87/
åœ¨ç”¨æˆ·æ€ä¸­è§¦å‘ sys_perf_event_open ç³»ç»Ÿè°ƒç”¨ï¼Œå†…æ ¸é™·å…¥ä¸­æ–­ä»¥åä¼šè°ƒç”¨ perf_event_open æ¥å¤„ç†ã€‚åœ¨ç”¨æˆ·æ€ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å¦‚ä¸‹çš„ä»£ç æ¥ä½¿ç”¨ï¼š
#include &lt;linux/perf_event.h> #include &lt;sys/syscall.h> #include &lt;unistd.h> int64_t perf_event_open(struct perf_event_attr* hw_event, pid_t pid, int cpu, int group_fd, unsigned long flags) -> { return syscall(SYS_perf_event_open, hw_event, pid, cpu, group_fd, flags); } ä»¥æ–‡ä»¶æè¿°ç¬¦ä¸ºä¸­å¿ƒçš„â€œæµ‹é‡å•å…ƒâ€ åœ¨ Linux ä¸­ï¼Œâ€œä¸€åˆ‡çš†æ–‡ä»¶â€ã€‚å½“è°ƒç”¨ perf_event_open æ—¶ï¼Œå†…æ ¸åˆ›å»ºäº†ä¸€ä¸ªç‹¬ç«‹çš„æµ‹é‡å®ä¾‹ã€‚
æ¯ä¸ªæ–‡ä»¶æè¿°ç¬¦ä»£è¡¨ä¸€ä¸ªç›‘æ§ä»»åŠ¡ï¼ˆ1 fd == 1 Eventï¼Œæ¯”å¦‚â€œç›‘æ§ CPU 0 çš„æŒ‡ä»¤æ‰§è¡Œæ•°â€ï¼‰ã€‚
åŒæ—¶ï¼Œå¯ä»¥æŠŠå¤šä¸ª fd ç»‘åœ¨ä¸€èµ·ï¼Œå³ä¸ºäº‹ä»¶åˆ†ç»„ (Group)ï¼š
ä¾‹å¦‚ä½ æƒ³è®¡ç®—â€œæ¯æ¡æŒ‡ä»¤çš„ç¼“å­˜æœªå‘½ä¸­ç‡â€ï¼Œä½ éœ€è¦åŒæ—¶æµ‹é‡â€œæŒ‡ä»¤æ•°â€å’Œâ€œç¼“å­˜æœªå‘½ä¸­æ•°â€ã€‚å°†å®ƒä»¬åˆ†ç»„å¯ä»¥ç¡®ä¿è¿™ä¸¤ä¸ªäº‹ä»¶åœ¨ç¡¬ä»¶ä¸Šæ˜¯åŒæ—¶å¼€å§‹ã€åŒæ—¶ç»“æŸçš„ï¼Œä»è€Œä¿è¯æ¯”ä¾‹çš„å‡†ç¡®æ€§ã€‚ çŠ¶æ€æ§åˆ¶ï¼šioctl ä¸ prctl äº‹ä»¶åˆ›å»ºåï¼Œå¹¶ä¸ä¸€å®šç«‹å³å¼€å§‹å·¥ä½œï¼Œä½ å¯ä»¥åƒæ§åˆ¶å¼€å…³ä¸€æ ·æ§åˆ¶å®ƒã€‚
ioctl (Input/Output Control)ï¼šè¿™æ˜¯æœ€å¸¸ç”¨çš„æ–¹å¼ï¼Œç›´æ¥é’ˆå¯¹æŸä¸ª fd è¿›è¡Œæ“ä½œã€‚
ioctl(fd, PERF_EVENT_IOC_ENABLE)ï¼šæ‰“å¼€å¼€å…³ã€‚ ioctl(fd, PERF_EVENT_IOC_DISABLE)ï¼šå…³é—­å¼€å…³ã€‚ prctl (Process Control)ï¼šè¿™æ˜¯é’ˆå¯¹å½“å‰è¿›ç¨‹åŠå…¶æ‰€æœ‰äº‹ä»¶çš„æ“ä½œã€‚
å¦‚æœä½ æœ‰ 10 ä¸ªæµ‹é‡äº‹ä»¶ï¼Œä¸éœ€è¦ä¸€ä¸ªä¸ª ioctlï¼Œå¯ä»¥ç”¨ prctl ä¸€æ¬¡æ€§å…¨éƒ¨å¯ç”¨æˆ–ç¦ç”¨ã€‚ â€œä¿æŒå­˜åœ¨â€çš„æ„ä¹‰ï¼šç¦ç”¨äº‹ä»¶åªæ˜¯è®©è®¡æ•°å™¨åœæ­¢ï¼Œå®ƒä¸ä¼šé”€æ¯æ•°æ®ã€‚è¿™å…è®¸ä½ åœ¨ç¨‹åºè¿è¡Œçš„ç‰¹å®šç‰‡æ®µï¼ˆæ¯”å¦‚åªåœ¨æŸä¸ªæ ¸å¿ƒç®—æ³•æ‰§è¡ŒæœŸé—´ï¼‰å¼€å¯ç›‘æ§ã€‚
...</p></div><footer class=entry-footer><span title='2026-01-23 00:00:00 +0000 UTC'>å‘å¸ƒäº2026-01-23</span>&nbsp;&nbsp;Â·&nbsp;&nbsp;Kerolt</footer><a class=entry-link aria-label="post link to åˆ©ç”¨eBPFä¸perf_eventè®°å½•ç³»ç»Ÿè°ƒç”¨æ ˆ" href=https://kerolt.github.io/posts/ebpf/%E5%88%A9%E7%94%A8ebpf%E4%B8%8Eperf_event%E8%AE%B0%E5%BD%95%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8%E6%A0%88/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>CMakeä¸ConanååŒå·¥ä½œç†è§£</h2></header><div class=entry-content><p>èƒŒæ™¯ æœ€è¿‘æ ¹æ® ã€eBPF å…¥é—¨å®è·µæ•™ç¨‹åäºŒï¼šä½¿ç”¨ eBPF ç¨‹åº profile è¿›è¡Œæ€§èƒ½åˆ†æã€‘ è¿™ç¯‡æ–‡ç« ï¼Œå†™äº†ä¸€ä¸ªæ€§èƒ½åˆ†æçš„å°å·¥å…·ã€‚ä¸è¿‡æ–‡ç« ä¸­çš„å®ç°æ˜¯ rustï¼Œä½†æˆ‘è¿˜ä¸æ€ä¹ˆç†Ÿæ‚‰ rustï¼Œå› è€Œæ‰“ç®—å‚è€ƒå…¶ä»£ç ä½¿ç”¨ c++ æ¥å®ç°ç›¸åŒçš„åŠŸèƒ½ã€‚é¡¹ç›®åœ°å€ï¼šprofilerã€‚
rust ä¸­ä½¿ç”¨ cargo å°±èƒ½éå¸¸æ–¹ä¾¿çš„ç®¡ç†ä¾èµ–ä¸æ„å»ºé¡¹ç›®ï¼Œc++ ä¸­æˆ‘ä½¿ç”¨ CMake æ¥æ„å»ºé¡¹ç›®ï¼ŒConan æ¥ç®¡ç†ä¾èµ–ã€‚åœ¨ä½¿ç”¨æœŸé—´ï¼Œæˆ‘å¯¹äºè¿™äºŒè€…çš„ååŒå·¥ä½œåŸç†æ„Ÿåˆ°å¥½å¥‡ï¼Œå› æ­¤æœ‰äº†è¿™ç¯‡ç¬”è®°ã€‚
æ–‡ä¸­çš„å‡ºç°çš„â€œä¾èµ–â€ã€â€œåŒ…â€ã€â€œåº“â€ç­‰åè¯éƒ½æ˜¯æŒ‡ä»£åŒä¸€ä¸ªæ¦‚å¿µï¼Œåªæ˜¯ä¸åŒçš„è¯´æ³•è€Œå·²~
CMake æŸ¥æ‰¾ä¾èµ– åœ¨ CMake ä¸­æŸ¥æ‰¾å’Œç®¡ç†é¡¹ç›®ä¾èµ–ï¼Œä¸»è¦æ˜¯é€šè¿‡å†…ç½®çš„ find_package å‘½ä»¤å®Œæˆï¼Œå…¶ä¼šåœ¨ç³»ç»Ÿä¸­å¯»æ‰¾æŒ‡å®šçš„åº“ã€‚
find_package(&lt;PackageName> [version] [REQUIRED] [COMPONENTS components...]) PackageName: åº“çš„åç§°ï¼ˆåŒºåˆ†å¤§å°å†™ï¼Œå¦‚ OpenCVã€Qt5ï¼‰ã€‚ REQUIRED: å¦‚æœæ‰¾ä¸åˆ°è¯¥åº“ï¼ŒCMake ä¼šç›´æ¥æŠ¥é”™å¹¶åœæ­¢é…ç½®ã€‚ COMPONENTS: æŸ¥æ‰¾åº“ä¸­çš„ç‰¹å®šæ¨¡å—ï¼ˆä¾‹å¦‚ Qt5 é‡Œçš„ Widgetsï¼‰ã€‚ CMake æœ‰ä¸¤ç§æŸ¥æ‰¾åº“çš„é€»è¾‘ï¼š
Module æ¨¡å¼ (æŸ¥æ‰¾ Find&lt;PackageName>.cmake)
CMake é¢„ç½®äº†ä¸€ç³»åˆ—è„šæœ¬ï¼ˆåœ¨ /usr/share/cmake/Modules ä¸‹ï¼‰ã€‚å®ƒä¼šå¯»æ‰¾åä¸º FindGSL.cmake è¿™æ ·çš„æ–‡ä»¶ã€‚
é€‚ç”¨åœºæ™¯: è¾ƒè€æˆ–ä¸ç›´æ¥æ”¯æŒ CMake çš„åº“ï¼ˆå¦‚ CURL, ZLIBï¼‰ã€‚ Config æ¨¡å¼ (æŸ¥æ‰¾ &lt;PackageName>Config.cmake æˆ– &lt;lower-case-pkg>-config.cmake)
è¿™æ˜¯ç°ä»£åº“æ¨èçš„æ–¹å¼ã€‚åº“åœ¨å®‰è£…æ—¶ä¼šè‡ªå¸¦ä¸€ä¸ªé…ç½®æ–‡ä»¶ã€‚
é€‚ç”¨åœºæ™¯: OpenCV, Qt, Protobuf ç­‰ç°ä»£åº“ã€‚ æŸ¥æ‰¾è·¯å¾„: åº“çš„å®‰è£…è·¯å¾„ã€CMAKE_PREFIX_PATH æˆ–ç¯å¢ƒå˜é‡ã€‚ CMAKE_PREFIX_PATH å½“åœ¨ CMake ä¸­ä½¿ç”¨ find_packageã€find_library æˆ– find_path ç­‰æŒ‡ä»¤å»å¯»æ‰¾ä¸€ä¸ªå¤–éƒ¨åº“æ—¶ï¼ŒCMake å¹¶ä¸çŸ¥é“è¿™ä¸ªåº“å®‰è£…åœ¨å“ªé‡Œã€‚CMAKE_PREFIX_PATH å°±æ˜¯ç”¨æ¥å‘Šè¯‰ CMake å»è¿™äº›ç›®å½•ä¸‹æ‰¾æ‰¾çœ‹ã€‚
...</p></div><footer class=entry-footer><span title='2026-01-22 00:00:00 +0000 UTC'>å‘å¸ƒäº2026-01-22</span>&nbsp;&nbsp;Â·&nbsp;&nbsp;Kerolt</footer><a class=entry-link aria-label="post link to CMakeä¸ConanååŒå·¥ä½œç†è§£" href=https://kerolt.github.io/posts/cmake/cmake%E4%B8%8Econan%E5%8D%8F%E5%90%8C%E5%B7%A5%E4%BD%9C%E7%90%86%E8%A7%A3/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>å¦‚ä½•åœ¨CMakeå·¥ç¨‹ä¸­ä½¿ç”¨Ruståº“blazesym</h2></header><div class=entry-content><p>åœ¨ ã€eBPF å…¥é—¨å®è·µæ•™ç¨‹åäºŒï¼šä½¿ç”¨ eBPF ç¨‹åº profile è¿›è¡Œæ€§èƒ½åˆ†æã€‘ è¿™ç¯‡æ–‡ç« ä¸­ï¼Œ profiler å·¥å…·çš„å®ç°æ˜¯ä½¿ç”¨äº† rust ç¼–å†™çš„ blazesym åº“ï¼Œè€Œæˆ‘ç°åœ¨æ‰“ç®—ä½¿ç”¨ C++ å®ç°ï¼Œè¿˜å¥½è¿™ä¸ªåº“æä¾›äº† C APIï¼Œä½†æ˜¯éœ€è¦æˆ‘ä»¬å°†è¿™ä¸ª Rust åº“çš„æ„å»ºé›†æˆåˆ° CMake ä¸­ã€‚
Corrosion å¯å°† Rust é›†æˆåˆ°ç°æœ‰ CMake é¡¹ç›®ä¸­ï¼Œå®ƒæ˜¯ä¸€ä¸ª CMake å·¥å…·é“¾ï¼Œæ—¨åœ¨è®© CMake åƒå¯¹å¾…åŸç”Ÿ C++ å­é¡¹ç›®ä¸€æ ·å¯¹å¾… Rust çš„ Cargo é¡¹ç›®ã€‚Corrosion å°†æ‰‹åŠ¨è°ƒç”¨ cargo buildï¼Œå¤„ç†å¤æ‚çš„è·¨å¹³å°è·¯å¾„ã€æ„å»ºé…ç½®ï¼ˆDebug/Releaseï¼‰ä»¥åŠç¹ççš„é“¾æ¥å‚æ•°è¿™äº›è¿‡ç¨‹å®Œå…¨è‡ªåŠ¨åŒ–äº†ã€‚
Corrosion çš„æ ¸å¿ƒåŠŸèƒ½ Corrosion çš„å·¥ä½œåŸç†æ˜¯åœ¨ CMake å±‚é¢ä¸º Cargo åŒ…è£…äº†ä¸€å±‚â€œå¤–å£³â€ï¼Œå…¶ä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š
è‡ªåŠ¨å¤„ç†æ„å»ºç±»å‹ï¼šCMake çš„ Release æˆ– Debug æ¨¡å¼ä¼šè‡ªåŠ¨æ˜ å°„åˆ° Cargo çš„ --release æˆ–é»˜è®¤æ¨¡å¼ã€‚ ç›®æ ‡å¯¼å…¥ï¼šå°† Rust çš„ staticlib æˆ– cdylib å¯¼å…¥ä¸ºæ ‡å‡†çš„ CMake ç›®æ ‡ï¼ˆTargetsï¼‰ï¼Œä½ å¯ä»¥ç›´æ¥å¯¹å®ƒä»¬ä½¿ç”¨ target_link_librariesã€‚ è·¨å¹³å°äº¤å‰ç¼–è¯‘ï¼šå®ƒèƒ½è‡ªåŠ¨å°† CMake çš„äº¤å‰ç¼–è¯‘è®¾ç½®ï¼ˆå¦‚ Android, iOS, åµŒå…¥å¼ç­‰ï¼‰ä¼ é€’ç»™ Rust çš„ç›®æ ‡ä¸‰å…ƒç»„ï¼ˆTarget Tripleï¼‰ã€‚ å¤šåŒ…æ”¯æŒï¼šæ”¯æŒ Cargo å·¥ä½œåŒºï¼ˆWorkspacesï¼‰å’Œå•ä¸ª Crateã€‚ é¡¹ç›®ç»“æ„ åœ¨æˆ‘çš„é¡¹ç›® profiler ä¸­ä½¿ç”¨ Corrosion æ—¶ï¼Œé¡¹ç›®å¸ƒå±€å¦‚ä¸‹ï¼š
...</p></div><footer class=entry-footer><span title='2026-01-22 00:00:00 +0000 UTC'>å‘å¸ƒäº2026-01-22</span>&nbsp;&nbsp;Â·&nbsp;&nbsp;Kerolt</footer><a class=entry-link aria-label="post link to å¦‚ä½•åœ¨CMakeå·¥ç¨‹ä¸­ä½¿ç”¨Ruståº“blazesym" href=https://kerolt.github.io/posts/cmake/%E5%A6%82%E4%BD%95%E5%9C%A8cmake%E5%B7%A5%E7%A8%8B%E4%B8%AD%E4%BD%BF%E7%94%A8rust%E5%BA%93blazesym/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>C++å¯¹Rustä¸­Resultçš„ç®€å•æ¨¡ä»¿</h2></header><div class=entry-content><p>æ³¨æ„ï¼ ä»¥ä¸‹ä»£ç éœ€è¦æ”¯æŒ C++23 çš„ç¼–è¯‘å™¨
è¿™é‡Œåˆ©ç”¨ std::expected å’Œ std::unexpected è¿›è¡Œæ¨¡ä»¿ï¼š
#include &lt;print> #include &lt;string> #include &lt;expected> template &lt;typename E = std::string> using Err = std::unexpected&lt;E>; template &lt;typename T, typename E = std::string> using Result = std::expected&lt;T, E>; struct Inner { int a, b; }; struct X { Inner* i_; X(Inner* i) { std::println("X()"); i_ = i; } ~X() { std::println("~X() delete inner obj"); delete i_; } }; auto foo(bool flag) -> Result&lt;X> { if (!flag) { return Err&lt;>("Flag is false!"); } Inner* i = new Inner(); i->a = 1; i->b = 2; return Result&lt;X>{i}; } int main() { std::println("main--1"); { std::println("main--2"); auto x = foo(true); std::println("main--3"); } { std::println("main--4"); auto x = foo(false); std::println("Error message is: {}", x.error()); std::println("main--5"); } std::println("main--6"); } è¾“å‡ºä¸ºï¼š
...</p></div><footer class=entry-footer><span title='2026-01-20 00:00:00 +0000 UTC'>å‘å¸ƒäº2026-01-20</span>&nbsp;&nbsp;Â·&nbsp;&nbsp;Kerolt</footer><a class=entry-link aria-label="post link to C++å¯¹Rustä¸­Resultçš„ç®€å•æ¨¡ä»¿" href=https://kerolt.github.io/posts/c++/c++%E5%AF%B9rust%E4%B8%ADresult%E7%9A%84%E7%AE%80%E5%8D%95%E6%A8%A1%E4%BB%BF/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>ã€ä¸ªæ€§åŒ–ã€‘ä¸ªäººè£…æœºé…ç½®</h2></header><div class=entry-content><p>1ã€Windhawk é€šè¿‡ä¸€äº›æ’ä»¶æ¥æ”¹å–„ä½“éªŒã€‚
å…¶ä¸­â€œDisable grouping on the taskbarâ€éå¸¸æœ‰ç”¨ï¼Œå¯ä»¥è®©ä¸€ä¸ªåº”ç”¨å¼€å¤šä¸ªçª—å£æ—¶ä»»åŠ¡æ å›¾æ ‡ä¸ä¼šå †å ï¼Œè€Œæ˜¯æ¯ä¸ªçª—å£ä¸€ä¸ªå›¾æ ‡ã€‚
2ã€å³é”®æ‰©å±• å…³é—­å³é”®æ‰©å±•ï¼š
reg add "HKCU\Software\Classes\CLSID\{86ca1aa0-34aa-4e8b-a509-50c905bae2a2}\InprocServer32" /f /ve taskkill /f /im explorer.exe & start explorer.exe å¦‚æœæƒ³è¦æ¢å¤å³é”®æ‰©å±•ï¼š
reg delete "HKCU\Software\Classes\CLSID\{86ca1aa0-34aa-4e8b-a509-50c905bae2a2}" /f taskkill /f /im explorer.exe & start explorer.exe 3ã€ContextMenuManager é“¾æ¥ï¼šhttps://github.com/BluePointLilac/ContextMenuManager
å³é”®èœå•å†…å®¹ç®¡ç†å·¥å…·ã€‚
4ã€Dism++ Windows ç³»ç»Ÿæ¸…ç†ã€é…ç½®é¡¹è°ƒæ•´ã€‚
5ã€ç”¨æˆ·åè°ƒæ•´ä¸ºè‹±æ–‡ ç®€å•æ¥è¯´å°±æ˜¯é‡å‘½åä¸€ä¸ªç›®å½• + æ›´æ–°ä¸€ä¸ªå¯¹åº”çš„æ³¨å†Œè¡¨é¡¹ã€‚
å…·ä½“çœ‹çŸ¥ä¹çš„æ–‡ç« ï¼šhttps://zhuanlan.zhihu.com/p/509804656
6ã€ä¿®æ”¹é»˜è®¤ç›®å½•åä¸ºè‹±æ–‡ ç³»ç»Ÿè·¯å¾„å†…çš„ç›®å½•ä¸ä»…æœ‰å›¾æ ‡è¿˜æ˜¾ç¤ºä¸­æ–‡åç§°ï¼Œä½†æ˜¯æ‰“å¼€è·¯å¾„çš„æ—¶å€™æ˜¾ç¤ºçš„å´æ˜¯è‹±æ–‡ï¼Œå¦‚ä½•ä¿®æ”¹å‘¢ï¼Ÿ
ï¼ˆ1ï¼‰æ˜¾ç¤ºå—ä¿æŠ¤çš„æ“ä½œç³»ç»Ÿæ–‡ä»¶
å…ˆè¦æ˜¾ç¤ºå—ä¿æŠ¤çš„æ“ä½œç³»ç»Ÿæ–‡ä»¶ï¼Œè®¾ç½®å®Œæˆä¹‹åå°†ä¼šçœ‹åˆ° desktop.ini æ–‡ä»¶ï¼ˆÂ desktop.ini åœ¨æ¯ä¸ªç›®å½•å†…éƒ½æœ‰ä¸€ä¸ªï¼‰ï¼Œå¦‚æœæ²¡çœ‹åˆ°ï¼Œå°±è¦å‹¾é€‰â€œæŸ¥çœ‹â€->â€œæ˜¾ç¤ºâ€->â€œéšè—çš„é¡¹ç›®â€ã€‚
ï¼ˆ2ï¼‰ç¼–è¾‘ desktop.ini
å¦‚æœè¦è®¾ç½®å“ªä¸ªç›®å½•çš„åˆ«åå°±æ‰¾åˆ°å“ªä¸ªç›®å½•å†…çš„Â desktop.ini æ–‡ä»¶ï¼Œå¹¶ç¼–è¾‘ä¸‹å›¾çº¢æ¡†ä¸­çš„å†…å®¹ï¼š
å°† LocalizedResourceName æœ€åçš„æ•°å­—ä¿®æ”¹ä¸ºæƒ³è¦çš„ç›®å½•åç§°ï¼Œè®¾ç½®å®Œæˆä¹‹åä¿å­˜ åˆ·æ–°å°± OK äº†ï¼Œè®¾ç½®å®Œæˆæ³¨æ„è¦Â éšè—å—ä¿æŠ¤çš„æ“ä½œç³»ç»Ÿæ–‡ä»¶ã€‚
å¥½åƒä¸åŒç‰ˆæœ¬åé¢çš„æ•°å­—ä¸åŒï¼Œåœ¨ä¿®æ”¹å‰è®°å¾—ä¿å­˜ã€‚
7ã€ç”¨æˆ·ç›®å½•ä¸‹åˆ›å»ºæ•°æ®ç›˜çš„ç›®å½•è½¯è¿æ¥ è¿™æ ·åšçš„ç›®çš„æ˜¯æˆ‘ä¸ªäººæƒ³è¦è®©ç”¨æˆ·ç›®å½•å’Œ Linux ä¸­çš„ home ç›®å½•æ¯”è¾ƒä¸€è‡´ï¼Œä½†è½¯ä»¶ã€å›¾ç‰‡ã€æ–‡æ¡£æˆ‘åˆä¸æƒ³ä¿å­˜åœ¨ C ç›˜ï¼Œè€Œæ˜¯ç”¨è½¯è¿æ¥è¿æ¥åˆ°æ•°æ®ç›˜ï¼ˆä¾‹å¦‚ D ç›˜ï¼‰ã€‚
...</p></div><footer class=entry-footer><span title='2026-01-06 00:00:00 +0000 UTC'>å‘å¸ƒäº2026-01-06</span>&nbsp;&nbsp;Â·&nbsp;&nbsp;Kerolt</footer><a class=entry-link aria-label="post link to ã€ä¸ªæ€§åŒ–ã€‘ä¸ªäººè£…æœºé…ç½®" href=https://kerolt.github.io/posts/windows/%E4%B8%AA%E6%80%A7%E5%8C%96%E4%B8%AA%E4%BA%BA%E8%A3%85%E6%9C%BA%E9%85%8D%E7%BD%AE/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>ã€Nginxã€‘locationä¸proxy_passé…ç½®ä¸­çš„æ–œæ å·®å¼‚</h2></header><div class=entry-content><p>Nginx ä½œä¸ºåå‘ä»£ç†æœåŠ¡å™¨ï¼Œéœ€è¦ç²¾ç¡®åŒ¹é…å®¢æˆ·ç«¯è¯·æ±‚è·¯å¾„ï¼Œå¹¶å°†è¯·æ±‚è½¬å‘åˆ°åç«¯æœåŠ¡ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼š
location æŒ‡ä»¤ï¼šå†³å®šå“ªäº›è¯·æ±‚ä¼šè¢«å½“å‰é…ç½®å—å¤„ç† proxy_pass æŒ‡ä»¤ï¼šå†³å®šå¦‚ä½•å°†è¯·æ±‚è½¬å‘åˆ°åç«¯ è€Œæ–œæ åœ¨è¿™ä¸¤ä¸ªæŒ‡ä»¤ä¸­çš„ä¸åŒä½ç½®ï¼Œä¼šæ”¹å˜ Nginx çš„åŒ¹é…é€»è¾‘å’Œè·¯å¾„ä¼ é€’è¡Œä¸ºï¼Œé…ç½®ä¸å½“å¯èƒ½å¯¼è‡´ 404 é”™è¯¯ã€è·¯å¾„æ±¡æŸ“æˆ–å®‰å…¨é£é™©ã€‚
1ã€Location é…ç½®ï¼š/api/vs /api çš„æ ¸å¿ƒå·®å¼‚ 1.1 è¯­æ³•å¯¹æ¯” é…ç½® åŒ¹é…æ¨¡å¼ ç²¾ç¡®è¦æ±‚ ç¤ºä¾‹åŒ¹é…ç»“æœ location /api/ å‰ç¼€åŒ¹é…ï¼ˆå¸¦æ–œæ ï¼‰ å¿…é¡»ä»¥ /api/ å¼€å¤´ /api/userâœ… /apiâŒ /api-testâŒ location /api å‰ç¼€åŒ¹é…ï¼ˆæ— æ–œæ ï¼‰ ä»¥ /api å¼€å¤´å³å¯ /api/userâœ… /apiâœ… /api-testâœ… 1.2 è¯­ä¹‰è§£é‡Š /api/ï¼šè¡¨ç¤ºä¸€ä¸ª " ç›®å½• " è·¯å¾„ï¼ŒNginx ä¼šå°†å…¶è§†ä¸ºå®Œæ•´çš„è·¯å¾„æ®µï¼ŒåªåŒ¹é…ä»¥ /api/ å¼€å¤´çš„è¯·æ±‚ã€‚è¿™ç§é…ç½®æ›´ç²¾ç¡®ï¼Œé¿å…äº†æ„å¤–åŒ¹é…ã€‚
/apiï¼šè¡¨ç¤ºä¸€ä¸ª " å‰ç¼€å­—ç¬¦ä¸² â€œï¼ŒåŒ¹é…æ‰€æœ‰ä»¥ /api å¼€å¤´çš„è¯·æ±‚ï¼ŒåŒ…æ‹¬ /api æœ¬èº«ã€/api/xxx ä»¥åŠ /api-anythingã€‚è¿™ç§é…ç½®æ›´å®½æ³›ï¼Œå¯èƒ½äº§ç”Ÿè¯¯åŒ¹é…ã€‚
1.3 å®é™…åœºæ™¯åˆ†æ åœºæ™¯ 1ï¼šAPI æ¥å£è·¯ç”±ï¼ˆæ¨èä½¿ç”¨ /api/ï¼‰
# æ¨èé…ç½®ï¼šç²¾ç¡®åŒ¹é…APIç›®å½• location /api/ { proxy_pass http://backend; # åªå¤„ç†/api/ä¸‹çš„æ‰€æœ‰è¯·æ±‚ï¼Œä¸ä¼šè¯¯åŒ¹é…/api-test } # ä¸æ¨èï¼šå¯èƒ½è¯¯åŒ¹é…å…¶ä»–è·¯å¾„ location /api { # ä¼šåŒ¹é…/apiã€/api/ã€/api-testã€/api-v2ç­‰ # å¦‚æœåç«¯æ²¡æœ‰/api-testæ¥å£ï¼Œå¯èƒ½è¿”å›404æˆ–é”™è¯¯æ•°æ® } åœºæ™¯ 2ï¼šé™æ€èµ„æºç›®å½•ï¼ˆå¿…é¡»ä½¿ç”¨ /xxx/ï¼‰
...</p></div><footer class=entry-footer><span title='2026-01-05 00:00:00 +0000 UTC'>å‘å¸ƒäº2026-01-05</span>&nbsp;&nbsp;Â·&nbsp;&nbsp;Kerolt</footer><a class=entry-link aria-label="post link to ã€Nginxã€‘locationä¸proxy_passé…ç½®ä¸­çš„æ–œæ å·®å¼‚" href=https://kerolt.github.io/posts/dev-null/nginxlocation%E4%B8%8Eproxy_pass%E9%85%8D%E7%BD%AE%E4%B8%AD%E7%9A%84%E6%96%9C%E6%9D%A0%E5%B7%AE%E5%BC%82/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>uvåŒ…å®‰è£…ç½‘ç»œè¶…æ—¶è§£å†³</h2></header><div class=entry-content><p>$ uv add numpy pandas torch scikit-learn matplotlib Resolved 45 packages in 21ms Ã— Failed to download `nvidia-cufft-cu12==11.3.3.83` â”œâ”€â–¶ Failed to fetch: â”‚Â `https://files.pythonhosted.org/packages/1f/13/ee4e00f30e676b66ae65b4f08cb5bcbb8392c03f54f2d5413ea99a5d1c80/nvidia_cufft_cu12-11.3.3.83-py3-none-manylinux2014_x86_64.manylinux_2_17_x86_64.whl` â”œâ”€â–¶ Request failed after 3 retries â”œâ”€â–¶ error sending request for url â”‚Â (https://files.pythonhosted.org/packages/1f/13/ee4e00f30e676b66ae65b4f08cb5bcbb8392c03f54f2d5413ea99a5d1c80/nvidia_cufft_cu12-11.3.3.83-py3-none-manylinux2014_x86_64.manylinux_2_17_x86_64.whl) â•°â”€â–¶ operation timed out help: If you want to add the package regardless of the failed resolution, provide the `--frozen` flag to skip locking and syncing. è¿™ä¸ªé”™è¯¯æ˜¯å› ä¸º uv åœ¨å°è¯•ä»å®˜æ–¹æºä¸‹è½½ NVIDIA çš„ CUDA ç»„ä»¶åŒ…ï¼ˆnvidia-cufft-cu12ï¼‰æ—¶ç½‘ç»œè¶…æ—¶äº†ã€‚
...</p></div><footer class=entry-footer><span title='2025-12-12 00:00:00 +0000 UTC'>å‘å¸ƒäº2025-12-12</span>&nbsp;&nbsp;Â·&nbsp;&nbsp;Kerolt</footer><a class=entry-link aria-label="post link to uvåŒ…å®‰è£…ç½‘ç»œè¶…æ—¶è§£å†³" href=https://kerolt.github.io/posts/dev-null/uv%E5%8C%85%E5%AE%89%E8%A3%85%E7%BD%91%E7%BB%9C%E8%B6%85%E6%97%B6%E8%A7%A3%E5%86%B3/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Linuxä¿®æ”¹IP</h2></header><div class=entry-content><p>é¦–å…ˆç¡®å®šç½‘ç»œæ˜¯ç”¨ä»€ä¹ˆå·¥å…·ç®¡ç†ï¼š
$ systemctl is-active NetworkManager active è¯´æ˜ ç½‘ç»œç”± NetworkManager ç®¡ç†ï¼Œè¿™ç§æƒ…å†µä¿®æ”¹ IP é€šå¸¸ä½¿ç”¨ nmcliï¼š
ä¿®æ”¹é™æ€ IP çœ‹å½“å‰è¿æ¥å nmcli connection show è¾“å‡ºç±»ä¼¼ï¼š
NAME UUID TYPE DEVICE Wired connection 1 2d3e1f6a-4e87-4a76-8f23-2f459c8c112b ethernet enp60s0 è¿™é‡Œçš„ NAMEï¼ˆå¦‚ Wired connection 1ï¼‰å°±æ˜¯è¿æ¥åï¼Œåé¢å‘½ä»¤è¦ç”¨åˆ°ã€‚
ä¿®æ”¹ä¸ºé™æ€ IP å‡è®¾ä½ æƒ³æŠŠ IP è®¾ç½®ä¸ºï¼š
IPï¼š192.168.1.100/24 ç½‘å…³ï¼š192.168.1.1 DNSï¼š8.8.8.8, 1.1.1.1 æ‰§è¡Œï¼š
sudo nmcli con mod "Wired connection 1" ipv4.addresses 192.168.1.100/24 sudo nmcli con mod "Wired connection 1" ipv4.gateway 192.168.1.1 sudo nmcli con mod "Wired connection 1" ipv4.dns "8.8.8.8,1.1.1.1" sudo nmcli con mod "Wired connection 1" ipv4.method manual æ³¨æ„ "Wired connection 1" éœ€è¦æ›¿æ¢ä¸ºä½ è‡ªå·±çš„è¿æ¥åã€‚ å¦‚æœåå­—é‡Œæœ‰ç©ºæ ¼ï¼Œå¿…é¡»åŠ å¼•å·ã€‚
...</p></div><footer class=entry-footer><span title='2025-11-09 00:00:00 +0000 UTC'>å‘å¸ƒäº2025-11-09</span>&nbsp;&nbsp;Â·&nbsp;&nbsp;Kerolt</footer><a class=entry-link aria-label="post link to Linuxä¿®æ”¹IP" href=https://kerolt.github.io/posts/net/linux%E4%BF%AE%E6%94%B9ip/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Linuxä¸­çš„vethä¸bridge</h2></header><div class=entry-content><p>å®¹å™¨ç½‘ç»œæœ€å…¸å‹çš„åŸºç¡€æ¨¡å‹ â€”â€” ä¸¤ä¸ªä¸åŒçš„å‘½åç©ºé—´é€šè¿‡ bridge é€šä¿¡ ã€‚
Docker é»˜è®¤çš„ bridge æ¨¡å¼å°±æ˜¯åŸºäºæ­¤åŸç†,åˆ›å»º docker0 bridgeï¼Œå®¹å™¨ veth å¯¹ä¸€ç«¯è¿æ¥å®¹å™¨ï¼Œä¸€ç«¯è¿æ¥ docker0ï¼Œæä¾› NAT åŠŸèƒ½è®©å®¹å™¨å¯ä»¥è®¿é—®å¤–ç½‘ã€‚
ä¸€ä¸ªç®€å•çš„ç»“æ„å¦‚ä¸‹ğŸ‘‡ï¼š
+---------------------+ | root NS | (å®¿ä¸»æœº / default netns) | bridge: br0(10.0.0.254/24) | | | veth0 â”€â”€â”€â”€â”€â”€â”€â”€â”€â” | &lt;- veth0 åœ¨ rootï¼Œmaster=br0 | â”‚ | | veth2 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”˜ &lt;- veth2 åœ¨ rootï¼Œmaster=br0 +---------------------+ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ veth0 &lt;-> veth1 veth2 &lt;-> veth3 (root, peer) (in ns1) (root, peer) (in ns2) ns1 namespace ns2 namespace â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ veth1 â”‚ â”‚ veth3 â”‚ â”‚ 10.0.0.1/24 â”‚ â”‚ 10.0.0.2/24 â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ veth (Virtual Ethernet Device) è™šæ‹Ÿä»¥å¤ªç½‘è®¾å¤‡ï¼Œæ€»æ˜¯æˆå¯¹å‡ºç°ï¼Œç±»ä¼¼ç®¡é“ä¸¤ç«¯
...</p></div><footer class=entry-footer><span title='2025-11-08 00:00:00 +0000 UTC'>å‘å¸ƒäº2025-11-08</span>&nbsp;&nbsp;Â·&nbsp;&nbsp;Kerolt</footer><a class=entry-link aria-label="post link to Linuxä¸­çš„vethä¸bridge" href=https://kerolt.github.io/posts/net/linux%E4%B8%AD%E7%9A%84veth%E4%B8%8Ebridge/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Linuxæ ¡å‡†æ—¶é—´</h2></header><div class=entry-content><p>æœåŠ¡å™¨æ˜¯ç”¨æ—§ç¬”è®°æœ¬è£…çš„ Debian13ï¼Œç„¶åç”¨ ddns-go åšåŠ¨æ€åŸŸåè§£æï¼Œä½†æ˜¯è£…å¥½ä¹‹åè²Œä¼¼ç”±äºæ—¶é’Ÿæ²¡æœ‰æ ¡å‡†å› æ­¤ ddns-go æ— æ³•æ›´æ–°åŸŸåè§£æï¼ˆä½¿ç”¨çš„ aliyunï¼‰ï¼Œä»¥ä¸‹æ˜¯è§£å†³æ–¹æ³•ã€‚
é¦–å…ˆæˆ‘ä½¿ç”¨ timedatectl çš„ç»“æœå¦‚ä¸‹ï¼š
~ $ timedatectl Local time: å…­ 2025-11-08 00:20:49 CST Universal time: äº” 2025-11-07 16:20:49 UTC RTC time: äº” 2025-11-07 16:20:49 Time zone: Asia/Shanghai (CST, +0800) System clock synchronized: no NTP service: n/a RTC in local TZ: no ä½¿ç”¨ systemd-timesyncd å¯ä»¥è®©ç³»ç»Ÿè‡ªåŠ¨æ ¡æ—¶ï¼š
sudo timedatectl set-ntp true å¦‚æœæ˜¾ç¤ºï¼š
Failed to set ntp: NTP not supported è¯´æ˜å½“å‰ç³»ç»Ÿé‡Œæ²¡æœ‰å¯ç”¨çš„ NTP åŒæ­¥æœåŠ¡ï¼ˆæ¯”å¦‚ systemd-timesyncdã€chronyd æˆ– ntpdï¼‰è¢«å¯ç”¨æˆ–æ”¯æŒï¼Œå¯ä»¥æ‰§è¡Œï¼š
sudo apt install systemd-timesyncd sudo systemctl enable --now systemd-timesyncd.service ä¹‹åå†æ‰§è¡Œ timedatectl å¯ä»¥çœ‹åˆ°ï¼š
...</p></div><footer class=entry-footer><span title='2025-11-07 00:00:00 +0000 UTC'>å‘å¸ƒäº2025-11-07</span>&nbsp;&nbsp;Â·&nbsp;&nbsp;Kerolt</footer><a class=entry-link aria-label="post link to Linuxæ ¡å‡†æ—¶é—´" href=https://kerolt.github.io/posts/linux/linux%E6%A0%A1%E5%87%86%E6%97%B6%E9%97%B4/></a></article><footer class=page-footer><nav class=pagination><a class=next href=https://kerolt.github.io/posts/page/2/>Next&nbsp;&nbsp;Â»</a></nav></footer></main><footer class=footer><span>&copy; 2026 <a href=https://kerolt.github.io/>Kerolt's Blog</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>