<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>K8sä¸­çš„å•ä¸€èŒè´£å’Œå¯¹è±¡ç»„åˆ | Kerolt's Blog</title><meta name=keywords content><meta name=description content="
Kubernetes çš„è®¾è®¡ç†å¿µæ˜¯ï¼š
ç”¨å•ä¸€èŒè´£çš„ç»„ä»¶ï¼Œé€šè¿‡å¯¹è±¡ç»„åˆçš„æ–¹å¼ï¼Œæ„å»ºå‡ºå¤æ‚ä¸”å¯æ‰©å±•çš„åˆ†å¸ƒå¼ç³»ç»Ÿã€‚

ä»€ä¹ˆæ˜¯â€œå•ä¸€èŒè´£â€å’Œâ€œå¯¹è±¡ç»„åˆâ€ï¼Ÿ
è¿™ä¸¤ä¸ªæ¦‚å¿µæ¥è‡ªè½¯ä»¶è®¾è®¡åŸåˆ™ï¼ˆå°¤å…¶æ˜¯å¾®æœåŠ¡ä¸é¢å‘å¯¹è±¡è®¾è®¡ï¼‰ï¼ŒKubernetes åªæ˜¯å°†å®ƒä»¬è´¯å½»å¾—éå¸¸å½»åº•ï¼š

  
      
          æ¦‚å¿µ
          å«ä¹‰
          åœ¨ K8s ä¸­çš„ä½“ç°
      
  
  
      
          å•ä¸€èŒè´£ï¼ˆSingle Responsibilityï¼‰
          æ¯ä¸ªç»„ä»¶ã€å¯¹è±¡ã€æ§åˆ¶å™¨åªåšä¸€ä»¶äº‹æƒ…ï¼Œå¹¶æŠŠå®ƒåšåˆ°æè‡´
          API Server åªæä¾› APIï¼›Scheduler åªè´Ÿè´£è°ƒåº¦ï¼›Controller åªè´Ÿè´£æŸä¸ªèµ„æºçš„æ§åˆ¶å¾ªç¯
      
      
          å¯¹è±¡ç»„åˆï¼ˆObject Compositionï¼‰
          å¤æ‚åŠŸèƒ½é€šè¿‡å¤šä¸ªç®€å•å¯¹è±¡çš„ç»„åˆå®ç°ï¼Œè€Œä¸æ˜¯é€šè¿‡å•ä¸ªå¤æ‚å¯¹è±¡
          Pod ç”±å¤šä¸ª Container ç»„æˆï¼›Deployment ç”±å¤šä¸ª ReplicaSet ç»„æˆï¼›Service ä¸ Pod ç»„åˆå½¢æˆè´Ÿè½½å‡è¡¡èƒ½åŠ›
      
  

Kubernetes çš„å•ä¸€èŒè´£åŸåˆ™
K8s çš„æ¯ä¸ªæ ¸å¿ƒç»„ä»¶éƒ½æœ‰æ˜ç¡®ä¸”è¾¹ç•Œæ¸…æ™°çš„èŒè´£ï¼š

  
      
          ç»„ä»¶
          èŒè´£
      
  
  
      
          kube-apiserver
          æä¾› REST APIï¼Œæ˜¯æ‰€æœ‰æ“ä½œçš„å…¥å£ï¼Œä¸åšä»»ä½•ä¸šåŠ¡é€»è¾‘ï¼Œåªè´Ÿè´£ä¸€è‡´æ€§ä¸è®¤è¯æˆæƒ
      
      
          kube-scheduler
          åªè´Ÿè´£é€‰æ‹© Pod è¦è¿è¡Œåœ¨å“ªä¸ª Node ä¸Š
      
      
          kube-controller-manager
          è´Ÿè´£è¿è¡Œå„ç§æ§åˆ¶å¾ªç¯ï¼ˆReplicaSetControllerã€NodeControllerã€ServiceController ç­‰ï¼‰ï¼Œæ¯ä¸ªæ§åˆ¶å™¨ä¸“æ³¨ä¸€ç§èµ„æºç±»å‹
      
      
          kubelet
          åªè´Ÿè´£æœ¬èŠ‚ç‚¹ Pod çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†
      
      
          etcd
          åªè´Ÿè´£å­˜å‚¨çŠ¶æ€ï¼Œä¸å‚ä¸é€»è¾‘
      
  


ğŸ‘‰ è¿™å°±åƒä¸€ä¸ªåˆ†å¸ƒå¼çš„å¾®å†…æ ¸ç³»ç»Ÿâ€”â€”æ¯ä¸ªæ¨¡å—ä¸“æ³¨äºè‡ªå·±çš„â€œå•ä¸€èŒè´£â€ï¼Œå½¼æ­¤é€šè¿‡ API åä½œã€‚

å¯¹è±¡ç»„åˆçš„ä½“ç°ï¼ˆK8s çš„â€œç§¯æœ¨å“²å­¦â€ï¼‰
Kubernetes çš„å¯¹è±¡è®¾è®¡ä½“ç°å‡ºéå¸¸å¼ºçš„ç»„åˆæ€æƒ³ï¼ˆcomposition over inheritanceï¼‰ï¼š


Pod æ˜¯å®¹å™¨çš„ç»„åˆ"><meta name=author content="Kerolt"><link rel=canonical href=https://kerolt.github.io/posts/k8s/k8s%E4%B8%AD%E7%9A%84%E5%8D%95%E4%B8%80%E8%81%8C%E8%B4%A3%E5%92%8C%E5%AF%B9%E8%B1%A1%E7%BB%84%E5%90%88/><meta name=google-site-verification content="NpIO0KEIJS0CPRzTzQCbYQdSRIyb0Lspx"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="2300A23B82DB579A2DEA6261191AD771"><link crossorigin=anonymous href=/assets/css/stylesheet.e6faa598b3a7420a559415a0a672c9fd91658a7351011c4c3bf20e9f34ba4aa9.css integrity="sha256-5vqlmLOnQgpVlBWgpnLJ/ZFlinNRARxMO/IOnzS6Sqk=" rel="preload stylesheet" as=style><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/lxgw-wenkai-screen-web/style.css><link rel=icon href=https://kerolt.github.io/images/avatar/favicon.png><link rel=icon type=image/png sizes=16x16 href=https://kerolt.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://kerolt.github.io/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://kerolt.github.io/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://kerolt.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://kerolt.github.io/posts/k8s/k8s%E4%B8%AD%E7%9A%84%E5%8D%95%E4%B8%80%E8%81%8C%E8%B4%A3%E5%92%8C%E5%AF%B9%E8%B1%A1%E7%BB%84%E5%90%88/><script src=https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js></script><link rel=stylesheet href=https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css><script src=https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js></script><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://kerolt.github.io/posts/k8s/k8s%E4%B8%AD%E7%9A%84%E5%8D%95%E4%B8%80%E8%81%8C%E8%B4%A3%E5%92%8C%E5%AF%B9%E8%B1%A1%E7%BB%84%E5%90%88/"><meta property="og:site_name" content="Kerolt's Blog"><meta property="og:title" content="K8sä¸­çš„å•ä¸€èŒè´£å’Œå¯¹è±¡ç»„åˆ"><meta property="og:description" content=" Kubernetes çš„è®¾è®¡ç†å¿µæ˜¯ï¼š
ç”¨å•ä¸€èŒè´£çš„ç»„ä»¶ï¼Œé€šè¿‡å¯¹è±¡ç»„åˆçš„æ–¹å¼ï¼Œæ„å»ºå‡ºå¤æ‚ä¸”å¯æ‰©å±•çš„åˆ†å¸ƒå¼ç³»ç»Ÿã€‚
ä»€ä¹ˆæ˜¯â€œå•ä¸€èŒè´£â€å’Œâ€œå¯¹è±¡ç»„åˆâ€ï¼Ÿ è¿™ä¸¤ä¸ªæ¦‚å¿µæ¥è‡ªè½¯ä»¶è®¾è®¡åŸåˆ™ï¼ˆå°¤å…¶æ˜¯å¾®æœåŠ¡ä¸é¢å‘å¯¹è±¡è®¾è®¡ï¼‰ï¼ŒKubernetes åªæ˜¯å°†å®ƒä»¬è´¯å½»å¾—éå¸¸å½»åº•ï¼š
æ¦‚å¿µ å«ä¹‰ åœ¨ K8s ä¸­çš„ä½“ç° å•ä¸€èŒè´£ï¼ˆSingle Responsibilityï¼‰ æ¯ä¸ªç»„ä»¶ã€å¯¹è±¡ã€æ§åˆ¶å™¨åªåšä¸€ä»¶äº‹æƒ…ï¼Œå¹¶æŠŠå®ƒåšåˆ°æè‡´ API Server åªæä¾› APIï¼›Scheduler åªè´Ÿè´£è°ƒåº¦ï¼›Controller åªè´Ÿè´£æŸä¸ªèµ„æºçš„æ§åˆ¶å¾ªç¯ å¯¹è±¡ç»„åˆï¼ˆObject Compositionï¼‰ å¤æ‚åŠŸèƒ½é€šè¿‡å¤šä¸ªç®€å•å¯¹è±¡çš„ç»„åˆå®ç°ï¼Œè€Œä¸æ˜¯é€šè¿‡å•ä¸ªå¤æ‚å¯¹è±¡ Pod ç”±å¤šä¸ª Container ç»„æˆï¼›Deployment ç”±å¤šä¸ª ReplicaSet ç»„æˆï¼›Service ä¸ Pod ç»„åˆå½¢æˆè´Ÿè½½å‡è¡¡èƒ½åŠ› Kubernetes çš„å•ä¸€èŒè´£åŸåˆ™ K8s çš„æ¯ä¸ªæ ¸å¿ƒç»„ä»¶éƒ½æœ‰æ˜ç¡®ä¸”è¾¹ç•Œæ¸…æ™°çš„èŒè´£ï¼š
ç»„ä»¶ èŒè´£ kube-apiserver æä¾› REST APIï¼Œæ˜¯æ‰€æœ‰æ“ä½œçš„å…¥å£ï¼Œä¸åšä»»ä½•ä¸šåŠ¡é€»è¾‘ï¼Œåªè´Ÿè´£ä¸€è‡´æ€§ä¸è®¤è¯æˆæƒ kube-scheduler åªè´Ÿè´£é€‰æ‹© Pod è¦è¿è¡Œåœ¨å“ªä¸ª Node ä¸Š kube-controller-manager è´Ÿè´£è¿è¡Œå„ç§æ§åˆ¶å¾ªç¯ï¼ˆReplicaSetControllerã€NodeControllerã€ServiceController ç­‰ï¼‰ï¼Œæ¯ä¸ªæ§åˆ¶å™¨ä¸“æ³¨ä¸€ç§èµ„æºç±»å‹ kubelet åªè´Ÿè´£æœ¬èŠ‚ç‚¹ Pod çš„ç”Ÿå‘½å‘¨æœŸç®¡ç† etcd åªè´Ÿè´£å­˜å‚¨çŠ¶æ€ï¼Œä¸å‚ä¸é€»è¾‘ ğŸ‘‰ è¿™å°±åƒä¸€ä¸ªåˆ†å¸ƒå¼çš„å¾®å†…æ ¸ç³»ç»Ÿâ€”â€”æ¯ä¸ªæ¨¡å—ä¸“æ³¨äºè‡ªå·±çš„â€œå•ä¸€èŒè´£â€ï¼Œå½¼æ­¤é€šè¿‡ API åä½œã€‚
å¯¹è±¡ç»„åˆçš„ä½“ç°ï¼ˆK8s çš„â€œç§¯æœ¨å“²å­¦â€ï¼‰ Kubernetes çš„å¯¹è±¡è®¾è®¡ä½“ç°å‡ºéå¸¸å¼ºçš„ç»„åˆæ€æƒ³ï¼ˆcomposition over inheritanceï¼‰ï¼š
Pod æ˜¯å®¹å™¨çš„ç»„åˆ"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-11-01T00:00:00+00:00"><meta property="article:modified_time" content="2025-11-01T00:00:00+00:00"><meta property="og:image" content="https://kerolt.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://kerolt.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="K8sä¸­çš„å•ä¸€èŒè´£å’Œå¯¹è±¡ç»„åˆ"><meta name=twitter:description content="
Kubernetes çš„è®¾è®¡ç†å¿µæ˜¯ï¼š
ç”¨å•ä¸€èŒè´£çš„ç»„ä»¶ï¼Œé€šè¿‡å¯¹è±¡ç»„åˆçš„æ–¹å¼ï¼Œæ„å»ºå‡ºå¤æ‚ä¸”å¯æ‰©å±•çš„åˆ†å¸ƒå¼ç³»ç»Ÿã€‚

ä»€ä¹ˆæ˜¯â€œå•ä¸€èŒè´£â€å’Œâ€œå¯¹è±¡ç»„åˆâ€ï¼Ÿ
è¿™ä¸¤ä¸ªæ¦‚å¿µæ¥è‡ªè½¯ä»¶è®¾è®¡åŸåˆ™ï¼ˆå°¤å…¶æ˜¯å¾®æœåŠ¡ä¸é¢å‘å¯¹è±¡è®¾è®¡ï¼‰ï¼ŒKubernetes åªæ˜¯å°†å®ƒä»¬è´¯å½»å¾—éå¸¸å½»åº•ï¼š

  
      
          æ¦‚å¿µ
          å«ä¹‰
          åœ¨ K8s ä¸­çš„ä½“ç°
      
  
  
      
          å•ä¸€èŒè´£ï¼ˆSingle Responsibilityï¼‰
          æ¯ä¸ªç»„ä»¶ã€å¯¹è±¡ã€æ§åˆ¶å™¨åªåšä¸€ä»¶äº‹æƒ…ï¼Œå¹¶æŠŠå®ƒåšåˆ°æè‡´
          API Server åªæä¾› APIï¼›Scheduler åªè´Ÿè´£è°ƒåº¦ï¼›Controller åªè´Ÿè´£æŸä¸ªèµ„æºçš„æ§åˆ¶å¾ªç¯
      
      
          å¯¹è±¡ç»„åˆï¼ˆObject Compositionï¼‰
          å¤æ‚åŠŸèƒ½é€šè¿‡å¤šä¸ªç®€å•å¯¹è±¡çš„ç»„åˆå®ç°ï¼Œè€Œä¸æ˜¯é€šè¿‡å•ä¸ªå¤æ‚å¯¹è±¡
          Pod ç”±å¤šä¸ª Container ç»„æˆï¼›Deployment ç”±å¤šä¸ª ReplicaSet ç»„æˆï¼›Service ä¸ Pod ç»„åˆå½¢æˆè´Ÿè½½å‡è¡¡èƒ½åŠ›
      
  

Kubernetes çš„å•ä¸€èŒè´£åŸåˆ™
K8s çš„æ¯ä¸ªæ ¸å¿ƒç»„ä»¶éƒ½æœ‰æ˜ç¡®ä¸”è¾¹ç•Œæ¸…æ™°çš„èŒè´£ï¼š

  
      
          ç»„ä»¶
          èŒè´£
      
  
  
      
          kube-apiserver
          æä¾› REST APIï¼Œæ˜¯æ‰€æœ‰æ“ä½œçš„å…¥å£ï¼Œä¸åšä»»ä½•ä¸šåŠ¡é€»è¾‘ï¼Œåªè´Ÿè´£ä¸€è‡´æ€§ä¸è®¤è¯æˆæƒ
      
      
          kube-scheduler
          åªè´Ÿè´£é€‰æ‹© Pod è¦è¿è¡Œåœ¨å“ªä¸ª Node ä¸Š
      
      
          kube-controller-manager
          è´Ÿè´£è¿è¡Œå„ç§æ§åˆ¶å¾ªç¯ï¼ˆReplicaSetControllerã€NodeControllerã€ServiceController ç­‰ï¼‰ï¼Œæ¯ä¸ªæ§åˆ¶å™¨ä¸“æ³¨ä¸€ç§èµ„æºç±»å‹
      
      
          kubelet
          åªè´Ÿè´£æœ¬èŠ‚ç‚¹ Pod çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†
      
      
          etcd
          åªè´Ÿè´£å­˜å‚¨çŠ¶æ€ï¼Œä¸å‚ä¸é€»è¾‘
      
  


ğŸ‘‰ è¿™å°±åƒä¸€ä¸ªåˆ†å¸ƒå¼çš„å¾®å†…æ ¸ç³»ç»Ÿâ€”â€”æ¯ä¸ªæ¨¡å—ä¸“æ³¨äºè‡ªå·±çš„â€œå•ä¸€èŒè´£â€ï¼Œå½¼æ­¤é€šè¿‡ API åä½œã€‚

å¯¹è±¡ç»„åˆçš„ä½“ç°ï¼ˆK8s çš„â€œç§¯æœ¨å“²å­¦â€ï¼‰
Kubernetes çš„å¯¹è±¡è®¾è®¡ä½“ç°å‡ºéå¸¸å¼ºçš„ç»„åˆæ€æƒ³ï¼ˆcomposition over inheritanceï¼‰ï¼š


Pod æ˜¯å®¹å™¨çš„ç»„åˆ"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://kerolt.github.io/posts/"},{"@type":"ListItem","position":2,"name":"K8sä¸­çš„å•ä¸€èŒè´£å’Œå¯¹è±¡ç»„åˆ","item":"https://kerolt.github.io/posts/k8s/k8s%E4%B8%AD%E7%9A%84%E5%8D%95%E4%B8%80%E8%81%8C%E8%B4%A3%E5%92%8C%E5%AF%B9%E8%B1%A1%E7%BB%84%E5%90%88/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"K8sä¸­çš„å•ä¸€èŒè´£å’Œå¯¹è±¡ç»„åˆ","name":"K8sä¸­çš„å•ä¸€èŒè´£å’Œå¯¹è±¡ç»„åˆ","description":" Kubernetes çš„è®¾è®¡ç†å¿µæ˜¯ï¼š\nç”¨å•ä¸€èŒè´£çš„ç»„ä»¶ï¼Œé€šè¿‡å¯¹è±¡ç»„åˆçš„æ–¹å¼ï¼Œæ„å»ºå‡ºå¤æ‚ä¸”å¯æ‰©å±•çš„åˆ†å¸ƒå¼ç³»ç»Ÿã€‚\nä»€ä¹ˆæ˜¯â€œå•ä¸€èŒè´£â€å’Œâ€œå¯¹è±¡ç»„åˆâ€ï¼Ÿ è¿™ä¸¤ä¸ªæ¦‚å¿µæ¥è‡ªè½¯ä»¶è®¾è®¡åŸåˆ™ï¼ˆå°¤å…¶æ˜¯å¾®æœåŠ¡ä¸é¢å‘å¯¹è±¡è®¾è®¡ï¼‰ï¼ŒKubernetes åªæ˜¯å°†å®ƒä»¬è´¯å½»å¾—éå¸¸å½»åº•ï¼š\næ¦‚å¿µ å«ä¹‰ åœ¨ K8s ä¸­çš„ä½“ç° å•ä¸€èŒè´£ï¼ˆSingle Responsibilityï¼‰ æ¯ä¸ªç»„ä»¶ã€å¯¹è±¡ã€æ§åˆ¶å™¨åªåšä¸€ä»¶äº‹æƒ…ï¼Œå¹¶æŠŠå®ƒåšåˆ°æè‡´ API Server åªæä¾› APIï¼›Scheduler åªè´Ÿè´£è°ƒåº¦ï¼›Controller åªè´Ÿè´£æŸä¸ªèµ„æºçš„æ§åˆ¶å¾ªç¯ å¯¹è±¡ç»„åˆï¼ˆObject Compositionï¼‰ å¤æ‚åŠŸèƒ½é€šè¿‡å¤šä¸ªç®€å•å¯¹è±¡çš„ç»„åˆå®ç°ï¼Œè€Œä¸æ˜¯é€šè¿‡å•ä¸ªå¤æ‚å¯¹è±¡ Pod ç”±å¤šä¸ª Container ç»„æˆï¼›Deployment ç”±å¤šä¸ª ReplicaSet ç»„æˆï¼›Service ä¸ Pod ç»„åˆå½¢æˆè´Ÿè½½å‡è¡¡èƒ½åŠ› Kubernetes çš„å•ä¸€èŒè´£åŸåˆ™ K8s çš„æ¯ä¸ªæ ¸å¿ƒç»„ä»¶éƒ½æœ‰æ˜ç¡®ä¸”è¾¹ç•Œæ¸…æ™°çš„èŒè´£ï¼š\nç»„ä»¶ èŒè´£ kube-apiserver æä¾› REST APIï¼Œæ˜¯æ‰€æœ‰æ“ä½œçš„å…¥å£ï¼Œä¸åšä»»ä½•ä¸šåŠ¡é€»è¾‘ï¼Œåªè´Ÿè´£ä¸€è‡´æ€§ä¸è®¤è¯æˆæƒ kube-scheduler åªè´Ÿè´£é€‰æ‹© Pod è¦è¿è¡Œåœ¨å“ªä¸ª Node ä¸Š kube-controller-manager è´Ÿè´£è¿è¡Œå„ç§æ§åˆ¶å¾ªç¯ï¼ˆReplicaSetControllerã€NodeControllerã€ServiceController ç­‰ï¼‰ï¼Œæ¯ä¸ªæ§åˆ¶å™¨ä¸“æ³¨ä¸€ç§èµ„æºç±»å‹ kubelet åªè´Ÿè´£æœ¬èŠ‚ç‚¹ Pod çš„ç”Ÿå‘½å‘¨æœŸç®¡ç† etcd åªè´Ÿè´£å­˜å‚¨çŠ¶æ€ï¼Œä¸å‚ä¸é€»è¾‘ ğŸ‘‰ è¿™å°±åƒä¸€ä¸ªåˆ†å¸ƒå¼çš„å¾®å†…æ ¸ç³»ç»Ÿâ€”â€”æ¯ä¸ªæ¨¡å—ä¸“æ³¨äºè‡ªå·±çš„â€œå•ä¸€èŒè´£â€ï¼Œå½¼æ­¤é€šè¿‡ API åä½œã€‚\nå¯¹è±¡ç»„åˆçš„ä½“ç°ï¼ˆK8s çš„â€œç§¯æœ¨å“²å­¦â€ï¼‰ Kubernetes çš„å¯¹è±¡è®¾è®¡ä½“ç°å‡ºéå¸¸å¼ºçš„ç»„åˆæ€æƒ³ï¼ˆcomposition over inheritanceï¼‰ï¼š\nPod æ˜¯å®¹å™¨çš„ç»„åˆ\n","keywords":[],"articleBody":" Kubernetes çš„è®¾è®¡ç†å¿µæ˜¯ï¼š\nç”¨å•ä¸€èŒè´£çš„ç»„ä»¶ï¼Œé€šè¿‡å¯¹è±¡ç»„åˆçš„æ–¹å¼ï¼Œæ„å»ºå‡ºå¤æ‚ä¸”å¯æ‰©å±•çš„åˆ†å¸ƒå¼ç³»ç»Ÿã€‚\nä»€ä¹ˆæ˜¯â€œå•ä¸€èŒè´£â€å’Œâ€œå¯¹è±¡ç»„åˆâ€ï¼Ÿ è¿™ä¸¤ä¸ªæ¦‚å¿µæ¥è‡ªè½¯ä»¶è®¾è®¡åŸåˆ™ï¼ˆå°¤å…¶æ˜¯å¾®æœåŠ¡ä¸é¢å‘å¯¹è±¡è®¾è®¡ï¼‰ï¼ŒKubernetes åªæ˜¯å°†å®ƒä»¬è´¯å½»å¾—éå¸¸å½»åº•ï¼š\næ¦‚å¿µ å«ä¹‰ åœ¨ K8s ä¸­çš„ä½“ç° å•ä¸€èŒè´£ï¼ˆSingle Responsibilityï¼‰ æ¯ä¸ªç»„ä»¶ã€å¯¹è±¡ã€æ§åˆ¶å™¨åªåšä¸€ä»¶äº‹æƒ…ï¼Œå¹¶æŠŠå®ƒåšåˆ°æè‡´ API Server åªæä¾› APIï¼›Scheduler åªè´Ÿè´£è°ƒåº¦ï¼›Controller åªè´Ÿè´£æŸä¸ªèµ„æºçš„æ§åˆ¶å¾ªç¯ å¯¹è±¡ç»„åˆï¼ˆObject Compositionï¼‰ å¤æ‚åŠŸèƒ½é€šè¿‡å¤šä¸ªç®€å•å¯¹è±¡çš„ç»„åˆå®ç°ï¼Œè€Œä¸æ˜¯é€šè¿‡å•ä¸ªå¤æ‚å¯¹è±¡ Pod ç”±å¤šä¸ª Container ç»„æˆï¼›Deployment ç”±å¤šä¸ª ReplicaSet ç»„æˆï¼›Service ä¸ Pod ç»„åˆå½¢æˆè´Ÿè½½å‡è¡¡èƒ½åŠ› Kubernetes çš„å•ä¸€èŒè´£åŸåˆ™ K8s çš„æ¯ä¸ªæ ¸å¿ƒç»„ä»¶éƒ½æœ‰æ˜ç¡®ä¸”è¾¹ç•Œæ¸…æ™°çš„èŒè´£ï¼š\nç»„ä»¶ èŒè´£ kube-apiserver æä¾› REST APIï¼Œæ˜¯æ‰€æœ‰æ“ä½œçš„å…¥å£ï¼Œä¸åšä»»ä½•ä¸šåŠ¡é€»è¾‘ï¼Œåªè´Ÿè´£ä¸€è‡´æ€§ä¸è®¤è¯æˆæƒ kube-scheduler åªè´Ÿè´£é€‰æ‹© Pod è¦è¿è¡Œåœ¨å“ªä¸ª Node ä¸Š kube-controller-manager è´Ÿè´£è¿è¡Œå„ç§æ§åˆ¶å¾ªç¯ï¼ˆReplicaSetControllerã€NodeControllerã€ServiceController ç­‰ï¼‰ï¼Œæ¯ä¸ªæ§åˆ¶å™¨ä¸“æ³¨ä¸€ç§èµ„æºç±»å‹ kubelet åªè´Ÿè´£æœ¬èŠ‚ç‚¹ Pod çš„ç”Ÿå‘½å‘¨æœŸç®¡ç† etcd åªè´Ÿè´£å­˜å‚¨çŠ¶æ€ï¼Œä¸å‚ä¸é€»è¾‘ ğŸ‘‰ è¿™å°±åƒä¸€ä¸ªåˆ†å¸ƒå¼çš„å¾®å†…æ ¸ç³»ç»Ÿâ€”â€”æ¯ä¸ªæ¨¡å—ä¸“æ³¨äºè‡ªå·±çš„â€œå•ä¸€èŒè´£â€ï¼Œå½¼æ­¤é€šè¿‡ API åä½œã€‚\nå¯¹è±¡ç»„åˆçš„ä½“ç°ï¼ˆK8s çš„â€œç§¯æœ¨å“²å­¦â€ï¼‰ Kubernetes çš„å¯¹è±¡è®¾è®¡ä½“ç°å‡ºéå¸¸å¼ºçš„ç»„åˆæ€æƒ³ï¼ˆcomposition over inheritanceï¼‰ï¼š\nPod æ˜¯å®¹å™¨çš„ç»„åˆ\nä¸€ä¸ª Pod ä¸­å¯ä»¥ç»„åˆå¤šä¸ªå®¹å™¨ï¼ˆå…±äº«ç½‘ç»œã€å­˜å‚¨å‘½åç©ºé—´ï¼‰ã€‚ æ¯”å¦‚ä¸€ä¸ªä¸»å®¹å™¨ + ä¸€ä¸ª sidecar å®¹å™¨ï¼ˆå¦‚æ—¥å¿—æ”¶é›†ã€ä»£ç†ï¼‰ã€‚ Pod æœ¬èº«ä¸å…³å¿ƒå®¹å™¨å†…éƒ¨ç»†èŠ‚ï¼Œåªå®šä¹‰ç»„åˆå…³ç³»ã€‚ é«˜å±‚å¯¹è±¡æ˜¯åº•å±‚å¯¹è±¡çš„ç»„åˆ\nReplicaSet ç»„åˆå¤šä¸ª Podï¼Œä¿è¯å‰¯æœ¬æ•°ï¼› Deployment ç»„åˆ ReplicaSetï¼Œå®ç°æ»šåŠ¨å‡çº§ï¼› Service ç»„åˆ Pod æä¾›ç¨³å®šè®¿é—®å…¥å£ï¼› Ingress ç»„åˆå¤šä¸ª Service æä¾›ç»Ÿä¸€çš„ HTTP å…¥å£ã€‚ è¿™ç§â€œå¯¹è±¡å¥—å¯¹è±¡â€çš„å±‚çº§ç»„åˆï¼Œè®©ç³»ç»Ÿå…·æœ‰é«˜åº¦çš„æ¨¡å—åŒ–ä¸å¯æ›¿æ¢æ€§ã€‚\næ§åˆ¶å¾ªç¯ï¼ˆController Loopï¼‰æ˜¯ç»„åˆé€»è¾‘çš„èƒ¶æ°´ æ§åˆ¶å™¨æ˜¯ Kubernetes å®ç°ç»„åˆé€»è¾‘çš„â€œèƒ¶æ°´å±‚â€ï¼š\næ§åˆ¶å™¨é€šè¿‡ Watch API è§‚å¯Ÿå¯¹è±¡çŠ¶æ€ï¼› æ£€æŸ¥â€œæœŸæœ›çŠ¶æ€â€ï¼ˆspecï¼‰ä¸â€œå®é™…çŠ¶æ€â€ï¼ˆstatusï¼‰ï¼› é€šè¿‡åˆ›å»º/åˆ é™¤å…¶ä»–å¯¹è±¡æ¥ç»„åˆå‡ºç›®æ ‡æ•ˆæœã€‚ ä¾‹å¦‚ï¼š\nDeployment Controller ä¸ç›´æ¥æ“ä½œå®¹å™¨ï¼› å®ƒåªæ˜¯åˆ›å»º ReplicaSet â†’ ReplicaSet å†åˆ›å»º Pod â†’ Pod ç”± kubelet ç®¡ç†ï¼› å„å±‚å„å¸å…¶èŒï¼Œå´å½¢æˆä¸€ä¸ªå®Œæ•´çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†æµç¨‹ã€‚ è¿™å°±æ˜¯ç»„åˆå¸¦æ¥çš„è§£è€¦ä¸æ‰©å±•æ€§ï¼šä½ å¯ä»¥æ›¿æ¢å…¶ä¸­ä»»æ„å±‚ï¼ˆä¾‹å¦‚è‡ªå®šä¹‰æ§åˆ¶å™¨ï¼‰ï¼Œè€Œä¸ç ´åæ•´ä½“ç³»ç»Ÿã€‚\nè¿™ç§è®¾è®¡çš„ä¼˜åŠ¿ï¼š\nç‰¹æ€§ åŸå›  é«˜æ‰©å±•æ€§ æ–°å¯¹è±¡å’Œæ§åˆ¶å™¨å¯ä»¥ç‹¬ç«‹å¢åŠ ï¼Œä¸ç ´åç°æœ‰ä½“ç³» é«˜å¯ç»´æŠ¤æ€§ æ¯ä¸ªå¯¹è±¡é€»è¾‘ç®€å•ï¼Œæ˜“äºè°ƒè¯•å’Œæ›¿æ¢ å¼ºå¤ç”¨æ€§ é€šç”¨å¯¹è±¡ï¼ˆPodã€ConfigMapï¼‰å¯ä»¥åœ¨ä¸åŒç³»ç»Ÿä¸­å¤ç”¨ ä¸€è‡´æ€§ä¸å£°æ˜å¼ç®¡ç† æ‰€æœ‰å¯¹è±¡éƒ½éµå¾ªç›¸åŒçš„ API æ¨¡å¼ï¼ˆspec/statusï¼‰ ","wordCount":"139","inLanguage":"en","image":"https://kerolt.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E","datePublished":"2025-11-01T00:00:00Z","dateModified":"2025-11-01T00:00:00Z","author":{"@type":"Person","name":"Kerolt"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://kerolt.github.io/posts/k8s/k8s%E4%B8%AD%E7%9A%84%E5%8D%95%E4%B8%80%E8%81%8C%E8%B4%A3%E5%92%8C%E5%AF%B9%E8%B1%A1%E7%BB%84%E5%90%88/"},"publisher":{"@type":"Organization","name":"Kerolt's Blog","logo":{"@type":"ImageObject","url":"https://kerolt.github.io/images/avatar/favicon.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://kerolt.github.io/ accesskey=h title="Kerolt's Blog (Alt + H)">Kerolt's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://kerolt.github.io/posts/ title=æ–‡ç« ><span>æ–‡ç« </span></a></li><li><a href=https://kerolt.github.io/categories/ title=åˆ†ç±»><span>åˆ†ç±»</span></a></li><li><a href=https://kerolt.github.io/tags/ title=æ ‡ç­¾><span>æ ‡ç­¾</span></a></li><li><a href=https://kerolt.github.io/archives/ title=å½’æ¡£><span>å½’æ¡£</span></a></li><li><a href=https://kerolt.github.io/about/ title=å…³äºæˆ‘><span>å…³äºæˆ‘</span></a></li><li><a href=https://kerolt.github.io/search/ title="ğŸ” (Alt + /)" accesskey=/><span>ğŸ”</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://kerolt.github.io/>Home</a>&nbsp;Â»&nbsp;<a href=https://kerolt.github.io/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">K8sä¸­çš„å•ä¸€èŒè´£å’Œå¯¹è±¡ç»„åˆ</h1><div class=post-meta><span title='2025-11-01 00:00:00 +0000 UTC'>å‘å¸ƒäº2025-11-01</span>&nbsp;&nbsp;Â·&nbsp;&nbsp;Kerolt</div><ul class=post-tags></ul></header><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#%e4%bb%80%e4%b9%88%e6%98%af%e5%8d%95%e4%b8%80%e8%81%8c%e8%b4%a3%e5%92%8c%e5%af%b9%e8%b1%a1%e7%bb%84%e5%90%88 aria-label=ä»€ä¹ˆæ˜¯â€œå•ä¸€èŒè´£â€å’Œâ€œå¯¹è±¡ç»„åˆâ€ï¼Ÿ>ä»€ä¹ˆæ˜¯â€œå•ä¸€èŒè´£â€å’Œâ€œå¯¹è±¡ç»„åˆâ€ï¼Ÿ</a></li><li><a href=#kubernetes-%e7%9a%84%e5%8d%95%e4%b8%80%e8%81%8c%e8%b4%a3%e5%8e%9f%e5%88%99 aria-label="Kubernetes çš„å•ä¸€èŒè´£åŸåˆ™">Kubernetes çš„å•ä¸€èŒè´£åŸåˆ™</a></li><li><a href=#%e5%af%b9%e8%b1%a1%e7%bb%84%e5%90%88%e7%9a%84%e4%bd%93%e7%8e%b0k8s-%e7%9a%84%e7%a7%af%e6%9c%a8%e5%93%b2%e5%ad%a6 aria-label="å¯¹è±¡ç»„åˆçš„ä½“ç°ï¼ˆK8s çš„â€œç§¯æœ¨å“²å­¦â€ï¼‰">å¯¹è±¡ç»„åˆçš„ä½“ç°ï¼ˆK8s çš„â€œç§¯æœ¨å“²å­¦â€ï¼‰</a></li><li><a href=#%e6%8e%a7%e5%88%b6%e5%be%aa%e7%8e%afcontroller-loop%e6%98%af%e7%bb%84%e5%90%88%e9%80%bb%e8%be%91%e7%9a%84%e8%83%b6%e6%b0%b4 aria-label="æ§åˆ¶å¾ªç¯ï¼ˆController Loopï¼‰æ˜¯ç»„åˆé€»è¾‘çš„èƒ¶æ°´">æ§åˆ¶å¾ªç¯ï¼ˆController Loopï¼‰æ˜¯ç»„åˆé€»è¾‘çš„èƒ¶æ°´</a></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><blockquote><p>Kubernetes çš„è®¾è®¡ç†å¿µæ˜¯ï¼š</p><p><strong>ç”¨å•ä¸€èŒè´£çš„ç»„ä»¶ï¼Œé€šè¿‡å¯¹è±¡ç»„åˆçš„æ–¹å¼ï¼Œæ„å»ºå‡ºå¤æ‚ä¸”å¯æ‰©å±•çš„åˆ†å¸ƒå¼ç³»ç»Ÿã€‚</strong></p></blockquote><h2 id=ä»€ä¹ˆæ˜¯å•ä¸€èŒè´£å’Œå¯¹è±¡ç»„åˆ>ä»€ä¹ˆæ˜¯â€œå•ä¸€èŒè´£â€å’Œâ€œå¯¹è±¡ç»„åˆâ€ï¼Ÿ<a hidden class=anchor aria-hidden=true href=#ä»€ä¹ˆæ˜¯å•ä¸€èŒè´£å’Œå¯¹è±¡ç»„åˆ>#</a></h2><p>è¿™ä¸¤ä¸ªæ¦‚å¿µæ¥è‡ªè½¯ä»¶è®¾è®¡åŸåˆ™ï¼ˆå°¤å…¶æ˜¯å¾®æœåŠ¡ä¸é¢å‘å¯¹è±¡è®¾è®¡ï¼‰ï¼ŒKubernetes åªæ˜¯å°†å®ƒä»¬è´¯å½»å¾—éå¸¸å½»åº•ï¼š</p><table><thead><tr><th>æ¦‚å¿µ</th><th>å«ä¹‰</th><th>åœ¨ K8s ä¸­çš„ä½“ç°</th></tr></thead><tbody><tr><td><strong>å•ä¸€èŒè´£ï¼ˆSingle Responsibilityï¼‰</strong></td><td>æ¯ä¸ªç»„ä»¶ã€å¯¹è±¡ã€æ§åˆ¶å™¨åªåšä¸€ä»¶äº‹æƒ…ï¼Œå¹¶æŠŠå®ƒåšåˆ°æè‡´</td><td>API Server åªæä¾› APIï¼›Scheduler åªè´Ÿè´£è°ƒåº¦ï¼›Controller åªè´Ÿè´£æŸä¸ªèµ„æºçš„æ§åˆ¶å¾ªç¯</td></tr><tr><td><strong>å¯¹è±¡ç»„åˆï¼ˆObject Compositionï¼‰</strong></td><td>å¤æ‚åŠŸèƒ½é€šè¿‡å¤šä¸ªç®€å•å¯¹è±¡çš„ç»„åˆå®ç°ï¼Œè€Œä¸æ˜¯é€šè¿‡å•ä¸ªå¤æ‚å¯¹è±¡</td><td>Pod ç”±å¤šä¸ª Container ç»„æˆï¼›Deployment ç”±å¤šä¸ª ReplicaSet ç»„æˆï¼›Service ä¸ Pod ç»„åˆå½¢æˆè´Ÿè½½å‡è¡¡èƒ½åŠ›</td></tr></tbody></table><h2 id=kubernetes-çš„å•ä¸€èŒè´£åŸåˆ™>Kubernetes çš„å•ä¸€èŒè´£åŸåˆ™<a hidden class=anchor aria-hidden=true href=#kubernetes-çš„å•ä¸€èŒè´£åŸåˆ™>#</a></h2><p>K8s çš„æ¯ä¸ªæ ¸å¿ƒç»„ä»¶éƒ½æœ‰æ˜ç¡®ä¸”è¾¹ç•Œæ¸…æ™°çš„èŒè´£ï¼š</p><table><thead><tr><th>ç»„ä»¶</th><th>èŒè´£</th></tr></thead><tbody><tr><td><strong>kube-apiserver</strong></td><td>æä¾› REST APIï¼Œæ˜¯æ‰€æœ‰æ“ä½œçš„å…¥å£ï¼Œä¸åšä»»ä½•ä¸šåŠ¡é€»è¾‘ï¼Œåªè´Ÿè´£ä¸€è‡´æ€§ä¸è®¤è¯æˆæƒ</td></tr><tr><td><strong>kube-scheduler</strong></td><td>åªè´Ÿè´£é€‰æ‹© Pod è¦è¿è¡Œåœ¨å“ªä¸ª Node ä¸Š</td></tr><tr><td><strong>kube-controller-manager</strong></td><td>è´Ÿè´£è¿è¡Œå„ç§æ§åˆ¶å¾ªç¯ï¼ˆReplicaSetControllerã€NodeControllerã€ServiceController ç­‰ï¼‰ï¼Œæ¯ä¸ªæ§åˆ¶å™¨ä¸“æ³¨ä¸€ç§èµ„æºç±»å‹</td></tr><tr><td><strong>kubelet</strong></td><td>åªè´Ÿè´£æœ¬èŠ‚ç‚¹ Pod çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†</td></tr><tr><td><strong>etcd</strong></td><td>åªè´Ÿè´£å­˜å‚¨çŠ¶æ€ï¼Œä¸å‚ä¸é€»è¾‘</td></tr></tbody></table><blockquote><p>ğŸ‘‰ è¿™å°±åƒä¸€ä¸ªåˆ†å¸ƒå¼çš„å¾®å†…æ ¸ç³»ç»Ÿâ€”â€”æ¯ä¸ªæ¨¡å—ä¸“æ³¨äºè‡ªå·±çš„â€œå•ä¸€èŒè´£â€ï¼Œå½¼æ­¤é€šè¿‡ API åä½œã€‚</p></blockquote><h2 id=å¯¹è±¡ç»„åˆçš„ä½“ç°k8s-çš„ç§¯æœ¨å“²å­¦>å¯¹è±¡ç»„åˆçš„ä½“ç°ï¼ˆK8s çš„â€œç§¯æœ¨å“²å­¦â€ï¼‰<a hidden class=anchor aria-hidden=true href=#å¯¹è±¡ç»„åˆçš„ä½“ç°k8s-çš„ç§¯æœ¨å“²å­¦>#</a></h2><p>Kubernetes çš„å¯¹è±¡è®¾è®¡ä½“ç°å‡ºéå¸¸å¼ºçš„<strong>ç»„åˆæ€æƒ³</strong>ï¼ˆcomposition over inheritanceï¼‰ï¼š</p><ol><li><p>Pod æ˜¯å®¹å™¨çš„ç»„åˆ</p><ul><li>ä¸€ä¸ª Pod ä¸­å¯ä»¥ç»„åˆå¤šä¸ªå®¹å™¨ï¼ˆå…±äº«ç½‘ç»œã€å­˜å‚¨å‘½åç©ºé—´ï¼‰ã€‚</li><li>æ¯”å¦‚ä¸€ä¸ªä¸»å®¹å™¨ + ä¸€ä¸ª sidecar å®¹å™¨ï¼ˆå¦‚æ—¥å¿—æ”¶é›†ã€ä»£ç†ï¼‰ã€‚</li><li>Pod æœ¬èº«ä¸å…³å¿ƒå®¹å™¨å†…éƒ¨ç»†èŠ‚ï¼Œåªå®šä¹‰ç»„åˆå…³ç³»ã€‚</li></ul></li><li><p>é«˜å±‚å¯¹è±¡æ˜¯åº•å±‚å¯¹è±¡çš„ç»„åˆ</p><ul><li><strong>ReplicaSet</strong> ç»„åˆå¤šä¸ª Podï¼Œä¿è¯å‰¯æœ¬æ•°ï¼›</li><li><strong>Deployment</strong> ç»„åˆ ReplicaSetï¼Œå®ç°æ»šåŠ¨å‡çº§ï¼›</li><li><strong>Service</strong> ç»„åˆ Pod æä¾›ç¨³å®šè®¿é—®å…¥å£ï¼›</li><li><strong>Ingress</strong> ç»„åˆå¤šä¸ª Service æä¾›ç»Ÿä¸€çš„ HTTP å…¥å£ã€‚</li></ul></li></ol><p>è¿™ç§â€œå¯¹è±¡å¥—å¯¹è±¡â€çš„å±‚çº§ç»„åˆï¼Œè®©ç³»ç»Ÿå…·æœ‰é«˜åº¦çš„<strong>æ¨¡å—åŒ–</strong>ä¸<strong>å¯æ›¿æ¢æ€§</strong>ã€‚</p><h2 id=æ§åˆ¶å¾ªç¯controller-loopæ˜¯ç»„åˆé€»è¾‘çš„èƒ¶æ°´>æ§åˆ¶å¾ªç¯ï¼ˆController Loopï¼‰æ˜¯ç»„åˆé€»è¾‘çš„èƒ¶æ°´<a hidden class=anchor aria-hidden=true href=#æ§åˆ¶å¾ªç¯controller-loopæ˜¯ç»„åˆé€»è¾‘çš„èƒ¶æ°´>#</a></h2><p>æ§åˆ¶å™¨æ˜¯ Kubernetes å®ç°ç»„åˆé€»è¾‘çš„â€œèƒ¶æ°´å±‚â€ï¼š</p><ul><li>æ§åˆ¶å™¨é€šè¿‡ Watch API è§‚å¯Ÿå¯¹è±¡çŠ¶æ€ï¼›</li><li>æ£€æŸ¥â€œæœŸæœ›çŠ¶æ€â€ï¼ˆspecï¼‰ä¸â€œå®é™…çŠ¶æ€â€ï¼ˆstatusï¼‰ï¼›</li><li>é€šè¿‡åˆ›å»º/åˆ é™¤å…¶ä»–å¯¹è±¡æ¥<strong>ç»„åˆå‡ºç›®æ ‡æ•ˆæœ</strong>ã€‚</li></ul><p>ä¾‹å¦‚ï¼š</p><ul><li>Deployment Controller ä¸ç›´æ¥æ“ä½œå®¹å™¨ï¼›</li><li>å®ƒåªæ˜¯åˆ›å»º ReplicaSet â†’ ReplicaSet å†åˆ›å»º Pod â†’ Pod ç”± kubelet ç®¡ç†ï¼›</li><li>å„å±‚å„å¸å…¶èŒï¼Œå´å½¢æˆä¸€ä¸ªå®Œæ•´çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†æµç¨‹ã€‚</li></ul><blockquote><p>è¿™å°±æ˜¯ç»„åˆå¸¦æ¥çš„<strong>è§£è€¦ä¸æ‰©å±•æ€§</strong>ï¼šä½ å¯ä»¥æ›¿æ¢å…¶ä¸­ä»»æ„å±‚ï¼ˆä¾‹å¦‚è‡ªå®šä¹‰æ§åˆ¶å™¨ï¼‰ï¼Œè€Œä¸ç ´åæ•´ä½“ç³»ç»Ÿã€‚</p></blockquote><p>è¿™ç§è®¾è®¡çš„ä¼˜åŠ¿ï¼š</p><table><thead><tr><th>ç‰¹æ€§</th><th>åŸå› </th></tr></thead><tbody><tr><td><strong>é«˜æ‰©å±•æ€§</strong></td><td>æ–°å¯¹è±¡å’Œæ§åˆ¶å™¨å¯ä»¥ç‹¬ç«‹å¢åŠ ï¼Œä¸ç ´åç°æœ‰ä½“ç³»</td></tr><tr><td><strong>é«˜å¯ç»´æŠ¤æ€§</strong></td><td>æ¯ä¸ªå¯¹è±¡é€»è¾‘ç®€å•ï¼Œæ˜“äºè°ƒè¯•å’Œæ›¿æ¢</td></tr><tr><td><strong>å¼ºå¤ç”¨æ€§</strong></td><td>é€šç”¨å¯¹è±¡ï¼ˆPodã€ConfigMapï¼‰å¯ä»¥åœ¨ä¸åŒç³»ç»Ÿä¸­å¤ç”¨</td></tr><tr><td><strong>ä¸€è‡´æ€§ä¸å£°æ˜å¼ç®¡ç†</strong></td><td>æ‰€æœ‰å¯¹è±¡éƒ½éµå¾ªç›¸åŒçš„ API æ¨¡å¼ï¼ˆspec/statusï¼‰</td></tr></tbody></table></div><footer class=post-footer><nav class=paginav><a class=prev href=https://kerolt.github.io/posts/k8s/%E5%9C%A8%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AAcni%E6%8F%92%E4%BB%B6%E6%97%B6%E9%9C%80%E8%A6%81%E5%AE%9A%E4%B9%89%E7%9A%84%E5%87%A0%E4%B8%AA%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/><span class=title>Â« Prev</span><br><span>åœ¨å¼€å‘ä¸€ä¸ªCNIæ’ä»¶æ—¶éœ€è¦å®šä¹‰çš„å‡ ä¸ªé…ç½®æ–‡ä»¶</span>
</a><a class=next href=https://kerolt.github.io/posts/k8s/%E5%88%A9%E7%94%A8kubeadm%E6%90%AD%E5%BB%BA%E9%9B%86%E7%BE%A4/><span class=title>Next Â»</span><br><span>åˆ©ç”¨kubeadmæ­å»ºé›†ç¾¤</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2026 <a href=https://kerolt.github.io/>Kerolt's Blog</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>