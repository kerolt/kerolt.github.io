<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>æ•°æ®åº“ on Kerolt&#39;s Blog</title>
    <link>https://kerolt.github.io/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/</link>
    <description>Recent content in æ•°æ®åº“ on Kerolt&#39;s Blog</description>
    <image>
      <title>Kerolt&#39;s Blog</title>
      <url>https://kerolt.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E</url>
      <link>https://kerolt.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E</link>
    </image>
    <generator>Hugo -- 0.126.2</generator>
    <language>en</language>
    <lastBuildDate>Tue, 11 Mar 2025 00:00:00 +0000</lastBuildDate>
    <atom:link href="https://kerolt.github.io/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>ã€CMU15-445 Fall2023ã€‘Project3 Query Execution å°ç»“</title>
      <link>https://kerolt.github.io/posts/%E6%95%B0%E6%8D%AE%E5%BA%93/cmu15-445-fall2023project3-query-execution-%E5%B0%8F%E7%BB%93/</link>
      <pubDate>Tue, 11 Mar 2025 00:00:00 +0000</pubDate>
      <guid>https://kerolt.github.io/posts/%E6%95%B0%E6%8D%AE%E5%BA%93/cmu15-445-fall2023project3-query-execution-%E5%B0%8F%E7%BB%93/</guid>
      <description>è¯¥ç³»åˆ—åšå®¢åªæ˜¯ä¸ºäº†è®°å½•è‡ªå·±åœ¨å†™ Lab æ—¶çš„æ€è·¯ï¼ŒæŒ‰ç…§è¯¾ç¨‹è¦æ±‚ä¸ä¼šåœ¨ Github å’Œåšå®¢ä¸­å…¬å¼€æºä»£ç ã€‚æ¬¢è¿ä¸æˆ‘ä¸€èµ·è®¨è®ºäº¤æµï¼
è¿™ä¸ª project å’Œä¹‹å‰å°±ä¸ä¸€æ ·äº†ï¼Œå¼€å§‹æ·±å…¥æ•°æ®åº“å†…æ ¸çš„å®ç°äº†ã€‚éœ€è¦ç†æ¸…æ¥šä¸€æ¡ sql è¯­å¥æ˜¯å¦‚ä½•è¢«æ‰§è¡Œçš„ï¼Œæ–¹æ‰èƒ½å†™å‡ºä»£ç ã€‚
å‰ç½®å¥¶é…ª ä¸€æ¡ SQL è¯­å¥çš„æ‰§è¡Œ è¿™é‡Œéœ€è¦å»çœ‹çœ‹ä¸€æ¡ sql è¯­å¥ä¼ å…¥ bustub å†…éƒ¨ä¹‹åçš„ä»£ç ï¼šsrc/common/bustub_instance.cpp:ExecuteSqlTxnï¼š
auto BustubInstance::ExecuteSqlTxn(const std::string &amp;amp;sql, ResultWriter &amp;amp;writer, Transaction *txn, std::shared_ptr&amp;lt;CheckOptions&amp;gt; check_options) -&amp;gt; bool { if (!sql.empty() &amp;amp;&amp;amp; sql[0] == &amp;#39;\\&amp;#39;) { // å¤„ç†å…ƒå‘½ä»¤ ... } // binderï¼Œä½†æ˜¯åœ¨å…¶ä¸­ä¼šä½¿ç”¨libpg_queryæ¥è§£æsqlè¯­å¥ bustub::Binder binder(*catalog_); binder.ParseAndSave(sql); // ç»è¿‡ä¸Šä¸€æ­¥åï¼Œbinderä¸­çš„statement_nodes_å­˜å‚¨ç€æ‰€æœ‰çš„è¯­å¥è§£æèŠ‚ç‚¹ for (auto *stmt : binder.statement_nodes_) { // å°†stmtè½¬æ¢æˆBoundStatementå¯¹è±¡ï¼Œæ–¹ä¾¿åé¢å¤„ç†æ•°æ® auto statement = binder.BindStatement(stmt); // åªæœ‰ä¸éœ€è¦æ„å»ºplanæ ‘ã€ä¸éœ€è¦è¿›è¡Œä¼˜åŒ–çš„sqlè¯­å¥æ‰ä¼šåœ¨switchä¹‹åç»§ç»­æ‰§è¡Œ switch (statement-&amp;gt;type_) { ... } // ç”Ÿæˆåˆæ­¥çš„æ‰§è¡Œè®¡åˆ’ bustub::Planner planner(*catalog_); planner.</description>
    </item>
    <item>
      <title>ã€CMU15-445 Fall2023ã€‘Project2 Extendible Hash Index å°ç»“</title>
      <link>https://kerolt.github.io/posts/%E6%95%B0%E6%8D%AE%E5%BA%93/cmu15-445-fall2023project2-extendible-hash-index-%E5%B0%8F%E7%BB%93/</link>
      <pubDate>Tue, 12 Nov 2024 00:00:00 +0000</pubDate>
      <guid>https://kerolt.github.io/posts/%E6%95%B0%E6%8D%AE%E5%BA%93/cmu15-445-fall2023project2-extendible-hash-index-%E5%B0%8F%E7%BB%93/</guid>
      <description>è¯¥ç³»åˆ—åšå®¢åªæ˜¯ä¸ºäº†è®°å½•è‡ªå·±åœ¨å†™Labæ—¶çš„æ€è·¯ï¼ŒæŒ‰ç…§è¯¾ç¨‹è¦æ±‚ä¸ä¼šåœ¨Githubå’Œåšå®¢ä¸­å…¬å¼€æºä»£ç ã€‚æ¬¢è¿ä¸æˆ‘ä¸€èµ·è®¨è®ºäº¤æµï¼
å¤ªèœäº†ï¼Œä»æ²¡æ‰“è¿‡è¿™ä¹ˆè‰°éš¾çš„ä»—QAQã€‚ç”±äºè¯¾ç¨‹çš„è¦æ±‚ä¸èƒ½å…¬å¼€æºä»£ç ï¼Œæ‰€ä»¥ç½‘ä¸Šçš„èµ„æºä¼šå°‘å¾ˆå¤šï¼Œå¹³å°ä¸Šçš„æµ‹è¯•æ¡ˆä¾‹æ¯”è¾ƒå…¨é¢ï¼Œæœ‰çš„è¿˜æ¯”è¾ƒåˆé’»ï¼Œéœ€è¦è€ƒè™‘åˆ°å¯æ‹“å±•å“ˆå¸Œçš„å®ç°ç»†èŠ‚ã€‚åœ¨è‡ªè®¤ä¸ºå†™å®Œäº†åï¼Œæäº¤äº†è¿‘40æ¥æ¬¡æ€»æœ‰å‡ ä¸ªæµ‹è¯•é›†è¿‡ä¸äº†ï¼Œè¿˜å¥½æ²¡æœ‰å´©æºƒï¼Œåœ¨çœ‹äº†å‡ ç¯‡åšå®¢çš„æ–¹æ³•åï¼ŒåŠ ä¸Šè‡ªå·±ç”»å›¾ç†è§£ï¼Œæœ€åç»ˆäºè¿‡äº†ğŸ˜­ã€‚ä¸è¿‡å›å¤´å†™åšå®¢çš„æ—¶å€™å†å»çœ‹ä»£ç ï¼Œä¹Ÿæ²¡æœ‰ç‰¹åˆ«çš„å¤æ‚ï¼Œè¿˜æ˜¯å¾—æ˜ç™½å…¶ä¸­çš„ç®—æ³•é€»è¾‘æ˜¯å¦‚ä½•å®ç°çš„ã€‚
Task1 - Read/Write Page Guards ç®€å•æ¥è¯´ï¼Œå°±æ˜¯ä¸ºPageå®ç°ä¸€ä¸ªRAIIæ¥è‡ªåŠ¨ç®¡ç†èµ„æºã€‚å› ä¸ºåœ¨BufferPoolManager::Unpinä¸­ï¼Œæ¯æ¬¡è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œéƒ½ä¼šè®©å¯¹åº”çš„pageçš„pin_count_ - 1ï¼Œå½“è¿™ä¸ªå€¼ä¸º0æ—¶ï¼Œè¿™ä¸ªpageå°±å¯ä»¥è¢«å›æ”¶ï¼Œæˆ–è€…è¯´è¢«æ›¿æ¢äº†ã€‚ä½†å¦‚æœæˆ‘ä»¬å¿˜è®°å»æ‰‹åŠ¨è°ƒç”¨ï¼Œè¯¥é¡µé¢å°†æ°¸è¿œä¸ä¼šè¢«é€å‡ºç¼“å†²æ± ã€‚ç”±äºç¼“å†²æ± ä»¥æ›´å°‘çš„å¸§æ•°è¿è¡Œï¼Œç£ç›˜å†…å¤–çš„é¡µé¢äº¤æ¢å°†æ›´å¤šã€‚ä¸ä»…æ€§èƒ½å—åˆ°å½±å“ï¼Œè€Œä¸”å¾ˆéš¾æ£€æµ‹åˆ°é”™è¯¯ã€‚
ä¸»è¦éœ€è¦è€ƒè™‘å¦‚ä½•ç¼–å†™ç§»åŠ¨æ„é€ ã€ç§»åŠ¨èµ‹å€¼çš„é€»è¾‘ã€‚ç§»åŠ¨äº†ä¸€ä¸ªå¯¹è±¡åï¼ŒåŸæ¥çš„å¯¹è±¡çš„èµ„æºåº”è¯¥è½¬ç§»åˆ°äº†æ–°å¯¹è±¡ä¸Šï¼Œé‚£ä¹ˆåŸæ¥çš„å¯¹è±¡æ— æ³•å†è®¿é—®èµ„æºï¼ˆå°†åŸæ¥å¯¹è±¡çš„èµ„æºé‡ç½®nullptræˆ–æ¸…ç©ºï¼‰ã€‚
è¿˜æœ‰ä¸€ä¸ªDrop()çš„æ¥å£ï¼Œè¿™æ˜¯æä¾›ç»™ä½¿ç”¨è€…çš„é‡Šæ”¾èµ„æºçš„apiï¼Œåœ¨å®ç°è™šæ„å‡½æ•°æ—¶å¯ä»¥ç›´æ¥è°ƒç”¨å®ƒã€‚Dropçš„å®ç°å°±æ˜¯è°ƒç”¨Unpinï¼Œç„¶åç½®ç©ºèµ„æºã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨è¿›è¡Œç§»åŠ¨èµ‹å€¼æ—¶ï¼Œä¸€å¼€å§‹ä¹Ÿè¦Dropä¸€ä¸‹ï¼Œè€ƒè™‘è¿™æ ·ä¸€ç§æƒ…å†µï¼š
auto p = std::move(basic_page_guard); p = std::move(basic_page_guard2); è¿™ä¸ªæ—¶å€™åŒä¸€ä¸ªå˜é‡pæ¥ç®¡äº†ä¸¤ä¸ªpageï¼Œé‚£ä¹ˆåº”è¯¥åœ¨ç¬¬äºŒä¸ªç§»åŠ¨èµ‹å€¼æ—¶å…ˆdropæ‰ç¬¬ä¸€ä¸ªï¼Œå› ä¸ºç¬¬ä¸€ä¸ªpageä¸å†ä½¿ç”¨äº†ï¼Œè‡ªç„¶è¦Unpinã€‚
è¿˜æœ‰å°±æ˜¯åœ¨ä¸‰ä¸ªpage guardç±»é‡è½½ç§»åŠ¨èµ‹å€¼æ—¶ï¼Œå¦‚æœéœ€è¦ç§»åŠ¨çš„å¯¹è±¡å’Œè‡ªèº«æ˜¯åŒä¸€ä¸ªï¼Œé‚£ä¹ˆç›´æ¥è¿”å›è‡ªå·±å°±å¥½ï¼š
auto BasicPageGuard::operator=(BasicPageGuard &amp;amp;&amp;amp;that) noexcept -&amp;gt; BasicPageGuard &amp;amp; { if (&amp;amp;that == this) { return *this; } // ... å…¶ä»–æ“ä½œ } åœ¨ReadPageGuardå’ŒWritePageGuardçš„Drop()ä¸­ï¼Œè¿˜éœ€è¦è€ƒè™‘é‡Šæ”¾ç®¡ç†çš„pageçš„é”ã€‚å¯¹åº”çš„ï¼Œé”çš„è·å–å‘ç”Ÿåœ¨FetchPageWrite()å’ŒFetchPageWrite()ä¸­ã€‚
Task2 - Extendible Hash Table Pages ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦å¯æ‰©å±•å“ˆå¸Œï¼Ÿ
ä¸‹å›¾æ¥æºï¼šhttps://www.bilibili.com/video/BV1Qt421w7JT
åœ¨bustubçš„è®¾è®¡ä¸­ï¼ŒHeader Pageï¼ŒDirectory Pageå’ŒBucket Pageéƒ½æ˜¯æ— æ³•ç›´æ¥æ„é€ å‡ºæ¥çš„ï¼Œå³ä¸èƒ½é€šè¿‡æ„é€ å‡½æ•°åˆ›å»ºï¼Œåªèƒ½é€šè¿‡å„è‡ªçš„PageGuardä¸­çš„As()æˆ–è€…AsMut()å‡½æ•°æ¥è½¬æ¢ã€‚
Header header pageä¸­æœ‰ä¸€ä¸ªmax_depth_çš„æˆå‘˜å˜é‡ï¼Œ1 &amp;lt;&amp;lt; max_depth_å³ä¸ºheader pageä¸­èƒ½å­˜æ”¾çš„ç›®å½•çš„ç´¢å¼•çš„æ•°é‡ã€‚å½“æˆ‘ä»¬æœ‰å€¼éœ€è¦æ”¾å…¥å“ˆå¸Œè¡¨æ—¶ï¼Œè·å–hash(key)çš„äºŒè¿›åˆ¶æœ€é«˜max_depth_ä½ä½œä¸ºç´¢å¼•ï¼Œå†ä»headerä¸­å¯¹åº”ä½ç½®å»æ‰¾åˆ°directoryã€‚å¯¹åº”çš„ExtendibleHTableHeaderPageä¸­çš„åŠŸèƒ½å®ç°å¹¶ä¸éš¾ã€‚
Directory directoryä¸­æœ‰ä¸¤ä¸ªdepthï¼š
Global Depthï¼šè‹¥global depthä¸ºnï¼Œé‚£ä¹ˆè¿™ä¸ªDirectoryå°±æœ‰2^nä¸ªentryï¼ˆç›¸å½“äºæŒ‡å‘2^nä¸ªbucketï¼‰ Local Depthï¼šè‹¥local depthä¸ºnï¼Œåˆ™åœ¨è¿™ä¸ªå¯¹åº”çš„bucketä¸‹ï¼Œæ¯ä¸ªå…ƒç´ çš„keyçš„æœ€ånä½éƒ½ç›¸åŒ ç±»ä¼¼headerä¸­è·å–ä¸‹ä¸€çº§é¡µçš„ç´¢å¼•ï¼Œdirectoryè·å–hash(key)çš„äºŒè¿›åˆ¶æœ€ä½global_depth_ä½ä½œä¸ºç´¢å¼•ã€‚é‚£local depthçš„ä½œç”¨æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</description>
    </item>
    <item>
      <title>ã€CMU15-445 Fall2023ã€‘Project1 Buffer Pool å°ç»“</title>
      <link>https://kerolt.github.io/posts/%E6%95%B0%E6%8D%AE%E5%BA%93/cmu15-445-fall2023project1-buffer-pool-%E5%B0%8F%E7%BB%93/</link>
      <pubDate>Sat, 12 Oct 2024 00:00:00 +0000</pubDate>
      <guid>https://kerolt.github.io/posts/%E6%95%B0%E6%8D%AE%E5%BA%93/cmu15-445-fall2023project1-buffer-pool-%E5%B0%8F%E7%BB%93/</guid>
      <description>&lt;blockquote&gt;
&lt;p&gt;è¯¥ç³»åˆ—åšå®¢åªæ˜¯ä¸ºäº†è®°å½•è‡ªå·±åœ¨å†™Labæ—¶çš„æ€è·¯ï¼ŒæŒ‰ç…§è¯¾ç¨‹è¦æ±‚ä¸ä¼šåœ¨Githubå’Œåšå®¢ä¸­å…¬å¼€æºä»£ç ã€‚æ¬¢è¿ä¸æˆ‘ä¸€èµ·è®¨è®ºäº¤æµï¼&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è¿™ä¸ªProjectéœ€è¦æˆ‘ä»¬å®ç°ä¸€ä¸ªç¼“å­˜æ± ï¼Œå‡å°‘å¯¹äºç£ç›˜çš„é¢‘ç¹IOã€‚å¼€å§‹æ…¢æ…¢ä¸Šå¼ºåº¦äº†ï¼Œç»†èŠ‚æ‹‰æ»¡ï¼&lt;/p&gt;</description>
    </item>
    <item>
      <title>ã€CMU15-445 Fall2023ã€‘Project0 C&#43;&#43; Primer å°ç»“</title>
      <link>https://kerolt.github.io/posts/%E6%95%B0%E6%8D%AE%E5%BA%93/cmu15-445-fall2023project0-c&#43;&#43;-primer-%E5%B0%8F%E7%BB%93/</link>
      <pubDate>Sun, 06 Oct 2024 00:00:00 +0000</pubDate>
      <guid>https://kerolt.github.io/posts/%E6%95%B0%E6%8D%AE%E5%BA%93/cmu15-445-fall2023project0-c&#43;&#43;-primer-%E5%B0%8F%E7%BB%93/</guid>
      <description>&lt;blockquote&gt;
&lt;p&gt;è¯¥ç³»åˆ—åšå®¢åªæ˜¯ä¸ºäº†è®°å½•è‡ªå·±åœ¨å†™Labæ—¶çš„æ€è·¯ï¼ŒæŒ‰ç…§è¯¾ç¨‹è¦æ±‚ä¸ä¼šåœ¨Githubå’Œåšå®¢ä¸­å…¬å¼€æºä»£ç ã€‚æ¬¢è¿ä¸æˆ‘ä¸€èµ·è®¨è®ºäº¤æµï¼&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;project0åªåœ¨task4ä¸­æµ…æµ…æ¶‰åŠäº†ä¸€ç‚¹BusTubçš„å†…å®¹ï¼Œå…¶ä»–éƒ½æ˜¯æ£€æµ‹æˆ‘ä»¬å¯¹äºC++çš„ä¸€ä¸ªæŒæ¡ï¼Œä¸»è¦æ¶‰åŠæ™ºèƒ½æŒ‡é’ˆå’ŒC++çš„å¸¸ç”¨ç‰¹æ€§ï¼ˆdynamic_castã€std::moveã€å¹¶å‘ä¸é”ç­‰ï¼‰ã€‚&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
