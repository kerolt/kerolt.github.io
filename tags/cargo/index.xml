<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Cargo on Kerolt&#39;s Blog</title>
    <link>https://kerolt.github.io/tags/cargo/</link>
    <description>Recent content in Cargo on Kerolt&#39;s Blog</description>
    <image>
      <title>Kerolt&#39;s Blog</title>
      <url>https://kerolt.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E</url>
      <link>https://kerolt.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E</link>
    </image>
    <generator>Hugo -- 0.154.5</generator>
    <language>en</language>
    <lastBuildDate>Thu, 22 Jan 2026 00:00:00 +0000</lastBuildDate>
    <atom:link href="https://kerolt.github.io/tags/cargo/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>如何在CMake工程中使用Rust库blazesym</title>
      <link>https://kerolt.github.io/posts/cmake/%E5%A6%82%E4%BD%95%E5%9C%A8cmake%E5%B7%A5%E7%A8%8B%E4%B8%AD%E4%BD%BF%E7%94%A8rust%E5%BA%93blazesym/</link>
      <pubDate>Thu, 22 Jan 2026 00:00:00 +0000</pubDate>
      <guid>https://kerolt.github.io/posts/cmake/%E5%A6%82%E4%BD%95%E5%9C%A8cmake%E5%B7%A5%E7%A8%8B%E4%B8%AD%E4%BD%BF%E7%94%A8rust%E5%BA%93blazesym/</guid>
      <description>&lt;p&gt;在 &lt;a href=&#34;https://eunomia.dev/zh/tutorials/12-profile/&#34;&gt;【eBPF 入门实践教程十二：使用 eBPF 程序 profile 进行性能分析】&lt;/a&gt; 这篇文章中， profiler 工具的实现是使用了 rust 编写的 &lt;code&gt;blazesym&lt;/code&gt; 库，而我现在打算使用 C++ 实现，还好这个库提供了 C API，但是需要我们将这个 Rust 库的构建集成到 CMake 中。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Corrosion&lt;/strong&gt; 可将 Rust 集成到现有 CMake 项目中，它是一个 CMake 工具链，旨在让 CMake 像对待原生 C++ 子项目一样对待 Rust 的 &lt;code&gt;Cargo&lt;/code&gt; 项目。Corrosion 将手动调用 &lt;code&gt;cargo build&lt;/code&gt;，处理复杂的跨平台路径、构建配置（Debug/Release）以及繁琐的链接参数这些过程完全自动化了。&lt;/p&gt;
&lt;h2 id=&#34;corrosion-的核心功能&#34;&gt;Corrosion 的核心功能&lt;/h2&gt;
&lt;p&gt;Corrosion 的工作原理是在 CMake 层面为 Cargo 包装了一层“外壳”，其主要功能包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;自动处理构建类型&lt;/strong&gt;：CMake 的 &lt;code&gt;Release&lt;/code&gt; 或 &lt;code&gt;Debug&lt;/code&gt; 模式会自动映射到 Cargo 的 &lt;code&gt;--release&lt;/code&gt; 或默认模式。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;目标导入&lt;/strong&gt;：将 Rust 的 &lt;code&gt;staticlib&lt;/code&gt; 或 &lt;code&gt;cdylib&lt;/code&gt; 导入为标准的 CMake 目标（Targets），你可以直接对它们使用 &lt;code&gt;target_link_libraries&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;跨平台交叉编译&lt;/strong&gt;：它能自动将 CMake 的交叉编译设置（如 Android, iOS, 嵌入式等）传递给 Rust 的目标三元组（Target Triple）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;多包支持&lt;/strong&gt;：支持 Cargo 工作区（Workspaces）和单个 Crate。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;项目结构&#34;&gt;项目结构&lt;/h2&gt;
&lt;p&gt;在我的项目 &lt;a href=&#34;https://github.com/kerolt/profiler&#34;&gt;profiler&lt;/a&gt; 中使用 Corrosion 时，项目布局如下：&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
